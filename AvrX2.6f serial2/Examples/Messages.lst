   1               		.file	"Messages.c"
   2               		.arch atmega32
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               	.global	task2Tcb
  11               		.section	.progmem.data,"a",@progbits
  14               	task2Tcb:
  15 0000 0000      		.word	task2Stk+44
  16 0002 0000      		.word	pm(task2)
  17 0004 0000      		.word	task2Pid
  18 0006 03        		.byte	3
  19               	.global	task1Tcb
  22               	task1Tcb:
  23 0007 0000      		.word	task1Stk+44
  24 0009 0000      		.word	pm(task1)
  25 000b 0000      		.word	task1Pid
  26 000d 03        		.byte	3
  27               	.global	MonitorTcb
  30               	MonitorTcb:
  31 000e 0000      		.word	MonitorStk+54
  32 0010 0000      		.word	pm(Monitor)
  33 0012 0000      		.word	MonitorPid
  34 0014 00        		.byte	0
  35               		.text
  36               	.global	__vector_11
  38               	__vector_11:
  39               	/* prologue: frame size=0 */
  40               	/* prologue: naked */
  41               	/* prologue end (size=0) */
  42 0000 0E94 0000 		call IntProlog
  43 0004 80EE      		ldi r24,lo8(-32)
  44 0006 82BF      		out 82-0x20,r24
  45 0008 0E94 0000 		call AvrXTimerHandler
  46 000c 0E94 0000 		call Epilog
  47               	/* epilogue: frame size=0 */
  48               	/* epilogue: naked */
  49               	/* epilogue end (size=0) */
  50               	/* function __vector_11 size 8 (8) */
  52               	.global	task1
  54               	task1:
  55               	/* prologue: frame size=0 */
  56               	/* prologue end (size=0) */
  57 0010 1FEF      		ldi r17,lo8(-1)
  58 0012 05C0      		rjmp .L3
  59               	.L7:
  60 0014 0E94 0000 		call AvrXHalt
  61               	.L6:
  62 0018 CE01      		movw r24,r28
  63 001a 0E94 0000 		call AvrXAckMessage
  64               	.L3:
  65 001e 80E0      		ldi r24,lo8(MyQueue)
  66 0020 90E0      		ldi r25,hi8(MyQueue)
  67 0022 0E94 0000 		call AvrXWaitMessage
  68 0026 EC01      		movw r28,r24
  69 0028 80E0      		ldi r24,hi8(SwitchUp)
  70 002a C030      		cpi r28,lo8(SwitchUp)
  71 002c D807      		cpc r29,r24
  72 002e 31F0      		breq .L10
  73 0030 80E0      		ldi r24,hi8(SwitchDown)
  74 0032 C030      		cpi r28,lo8(SwitchDown)
  75 0034 D807      		cpc r29,r24
  76 0036 71F7      		brne .L7
  77 0038 18BA      		out 56-0x20,__zero_reg__
  78 003a EECF      		rjmp .L6
  79               	.L10:
  80 003c 18BB      		out 56-0x20,r17
  81 003e ECCF      		rjmp .L6
  82               	/* epilogue: frame size=0 */
  83               	/* epilogue: noreturn */
  84               	/* epilogue end (size=0) */
  85               	/* function task1 size 24 (24) */
  87               	.global	task2
  89               	task2:
  90               	/* prologue: frame size=0 */
  91               	/* prologue end (size=0) */
  92 0040 19B3      		in r17,57-0x20
  93               	.L21:
  94 0042 6AE0      		ldi r22,lo8(10)
  95 0044 70E0      		ldi r23,hi8(10)
  96 0046 80E0      		ldi r24,lo8(MyTimer)
  97 0048 90E0      		ldi r25,hi8(MyTimer)
  98 004a 0E94 0000 		call AvrXDelay
  99 004e C9B3      		in r28,57-0x20
 100 0050 C170      		andi r28,lo8(1)
 101 0052 C117      		cp r28,r17
 102 0054 B1F3      		breq .L21
 103 0056 C130      		cpi r28,lo8(1)
 104 0058 B9F0      		breq .L22
 105               	.L15:
 106 005a 60E0      		ldi r22,lo8(SwitchDown)
 107 005c 70E0      		ldi r23,hi8(SwitchDown)
 108 005e 80E0      		ldi r24,lo8(MyQueue)
 109 0060 90E0      		ldi r25,hi8(MyQueue)
 110 0062 0E94 0000 		call AvrXSendMessage
 111 0066 80E0      		ldi r24,lo8(SwitchDown)
 112 0068 90E0      		ldi r25,hi8(SwitchDown)
 113               	.L20:
 114 006a 0E94 0000 		call AvrXWaitMessageAck
 115 006e 1C2F      		mov r17,r28
 116 0070 6AE0      		ldi r22,lo8(10)
 117 0072 70E0      		ldi r23,hi8(10)
 118 0074 80E0      		ldi r24,lo8(MyTimer)
 119 0076 90E0      		ldi r25,hi8(MyTimer)
 120 0078 0E94 0000 		call AvrXDelay
 121 007c C9B3      		in r28,57-0x20
 122 007e C170      		andi r28,lo8(1)
 123 0080 C117      		cp r28,r17
 124 0082 F9F2      		breq .L21
 125 0084 C130      		cpi r28,lo8(1)
 126 0086 49F7      		brne .L15
 127               	.L22:
 128 0088 60E0      		ldi r22,lo8(SwitchUp)
 129 008a 70E0      		ldi r23,hi8(SwitchUp)
 130 008c 80E0      		ldi r24,lo8(MyQueue)
 131 008e 90E0      		ldi r25,hi8(MyQueue)
 132 0090 0E94 0000 		call AvrXSendMessage
 133 0094 80E0      		ldi r24,lo8(SwitchUp)
 134 0096 90E0      		ldi r25,hi8(SwitchUp)
 135 0098 E8CF      		rjmp .L20
 136               	/* epilogue: frame size=0 */
 137               	/* epilogue: noreturn */
 138               	/* epilogue end (size=0) */
 139               	/* function task2 size 45 (45) */
 141               	.global	main
 143               	main:
 144               	/* prologue: frame size=0 */
 145 009a C0E0      		ldi r28,lo8(__stack - 0)
 146 009c D0E0      		ldi r29,hi8(__stack - 0)
 147 009e DEBF      		out __SP_H__,r29
 148 00a0 CDBF      		out __SP_L__,r28
 149               	/* prologue end (size=4) */
 150 00a2 80E0      		ldi r24,lo8(0)
 151 00a4 90E0      		ldi r25,hi8(0)
 152 00a6 0E94 0000 		call AvrXSetKernelStack
 153 00aa 80E8      		ldi r24,lo8(-128)
 154 00ac 85BF      		out 85-0x20,r24
 155 00ae 80EE      		ldi r24,lo8(-32)
 156 00b0 82BF      		out 82-0x20,r24
 157 00b2 84E0      		ldi r24,lo8(4)
 158 00b4 83BF      		out 83-0x20,r24
 159 00b6 81E0      		ldi r24,lo8(1)
 160 00b8 89BF      		out 89-0x20,r24
 161 00ba 8FEF      		ldi r24,lo8(-1)
 162 00bc 87BB      		out 55-0x20,r24
 163 00be 88BB      		out 56-0x20,r24
 164 00c0 80E0      		ldi r24,lo8(task1Tcb)
 165 00c2 90E0      		ldi r25,hi8(task1Tcb)
 166 00c4 0E94 0000 		call AvrXRunTask
 167 00c8 80E0      		ldi r24,lo8(task2Tcb)
 168 00ca 90E0      		ldi r25,hi8(task2Tcb)
 169 00cc 0E94 0000 		call AvrXRunTask
 170 00d0 80E0      		ldi r24,lo8(MonitorTcb)
 171 00d2 90E0      		ldi r25,hi8(MonitorTcb)
 172 00d4 0E94 0000 		call AvrXRunTask
 173 00d8 89E1      		ldi r24,lo8(25)
 174 00da 90E0      		ldi r25,hi8(25)
 175 00dc 0E94 0000 		call InitSerialIO
 176 00e0 80E0      		ldi r24,lo8(EEPromMutex)
 177 00e2 90E0      		ldi r25,hi8(EEPromMutex)
 178 00e4 0E94 0000 		call AvrXSetSemaphore
 179 00e8 0E94 0000 		call Epilog
 180               	.L24:
 181 00ec FFCF      		rjmp .L24
 182               	/* epilogue: frame size=0 */
 183               	/* epilogue: noreturn */
 184               	/* epilogue end (size=0) */
 185               	/* function main size 42 (38) */
 187               		.comm MonitorStk,55,1
 188               		.comm MonitorPid,6,1
 189               		.comm MyTimer,6,1
 190               		.comm SwitchUp,4,1
 191               		.comm SwitchDown,4,1
 192               		.comm MyQueue,4,1
 193               		.comm task1Stk,45,1
 194               		.comm task1Pid,6,1
 195               		.comm task2Stk,45,1
 196               		.comm task2Pid,6,1
 197               	/* File "Messages.c": code  119 = 0x0077 ( 115), prologues   4, epilogues   0 */
DEFINED SYMBOLS
                            *ABS*:00000000 Messages.c
                            *ABS*:0000003f __SREG__
                            *ABS*:0000003e __SP_H__
                            *ABS*:0000003d __SP_L__
                            *ABS*:00000000 __tmp_reg__
                            *ABS*:00000001 __zero_reg__
/var/tmp//ccYnQIHJ.s:14     .progmem.data:00000000 task2Tcb
                            *COM*:0000002d task2Stk
/var/tmp//ccYnQIHJ.s:89     .text:00000040 task2
                            *COM*:00000006 task2Pid
/var/tmp//ccYnQIHJ.s:22     .progmem.data:00000007 task1Tcb
                            *COM*:0000002d task1Stk
/var/tmp//ccYnQIHJ.s:54     .text:00000010 task1
                            *COM*:00000006 task1Pid
/var/tmp//ccYnQIHJ.s:30     .progmem.data:0000000e MonitorTcb
                            *COM*:00000037 MonitorStk
                            *COM*:00000006 MonitorPid
/var/tmp//ccYnQIHJ.s:38     .text:00000000 __vector_11
                            *COM*:00000004 MyQueue
                            *COM*:00000004 SwitchUp
                            *COM*:00000004 SwitchDown
                            *COM*:00000006 MyTimer
/var/tmp//ccYnQIHJ.s:143    .text:0000009a main

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
Monitor
IntProlog
AvrXTimerHandler
Epilog
AvrXHalt
AvrXAckMessage
AvrXWaitMessage
AvrXDelay
AvrXSendMessage
AvrXWaitMessageAck
__stack
AvrXSetKernelStack
AvrXRunTask
InitSerialIO
EEPromMutex
AvrXSetSemaphore
