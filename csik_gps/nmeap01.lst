GAS LISTING /var/tmp//ccCs6Agq.s 			page 1


   1               		.file	"nmeap01.c"
   2               		.arch atmega32
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  10               		.stabs	"/opt/local/avr/avrlib/freedomflies/csik_gps/",100,0,2,.Ltext0
  11               		.stabs	"nmeap01.c",100,0,2,.Ltext0
  12               		.text
  13               	.Ltext0:
  14               		.stabs	"gcc2_compiled.",60,0,0,0
  15               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,0,0
  16               		.stabs	"char:t(0,2)=r(0,2);0;127;",128,0,0,0
  17               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,0,0
  18               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,0,0
  19               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,0,0
  20               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,0,
  21               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,0,0
  22               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,0,0
  23               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,0,0
  24               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,0,0
  25               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,0,0
  26               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,0,0
  27               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,0,0
  28               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,0,0
  29               		.stabs	"void:t(0,15)=(0,15)",128,0,0,0
  30               		.stabs	"/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdio.h",130,0,0,0
  31               		.stabs	"/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/inttypes.h",130,0,0,0
  32               		.stabs	"/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdint.h",130,0,0,0
  33               		.stabs	"int8_t:t(3,1)=(0,10)",128,0,116,0
  34               		.stabs	"uint8_t:t(3,2)=(0,11)",128,0,117,0
  35               		.stabs	"int16_t:t(3,3)=(0,1)",128,0,118,0
  36               		.stabs	"uint16_t:t(3,4)=(0,4)",128,0,119,0
  37               		.stabs	"int32_t:t(3,5)=(0,3)",128,0,120,0
  38               		.stabs	"uint32_t:t(3,6)=(0,5)",128,0,121,0
  39               		.stabs	"int64_t:t(3,7)=(0,6)",128,0,122,0
  40               		.stabs	"uint64_t:t(3,8)=(0,7)",128,0,123,0
  41               		.stabs	"intptr_t:t(3,9)=(3,3)",128,0,135,0
  42               		.stabs	"uintptr_t:t(3,10)=(3,4)",128,0,140,0
  43               		.stabs	"int_least8_t:t(3,11)=(3,1)",128,0,152,0
  44               		.stabs	"uint_least8_t:t(3,12)=(3,2)",128,0,157,0
  45               		.stabs	"int_least16_t:t(3,13)=(3,3)",128,0,162,0
  46               		.stabs	"uint_least16_t:t(3,14)=(3,4)",128,0,167,0
  47               		.stabs	"int_least32_t:t(3,15)=(3,5)",128,0,172,0
  48               		.stabs	"uint_least32_t:t(3,16)=(3,6)",128,0,177,0
  49               		.stabs	"int_least64_t:t(3,17)=(3,7)",128,0,182,0
  50               		.stabs	"uint_least64_t:t(3,18)=(3,8)",128,0,187,0
  51               		.stabs	"int_fast8_t:t(3,19)=(3,1)",128,0,200,0
  52               		.stabs	"uint_fast8_t:t(3,20)=(3,2)",128,0,205,0
  53               		.stabs	"int_fast16_t:t(3,21)=(3,3)",128,0,210,0
  54               		.stabs	"uint_fast16_t:t(3,22)=(3,4)",128,0,215,0
  55               		.stabs	"int_fast32_t:t(3,23)=(3,5)",128,0,220,0
  56               		.stabs	"uint_fast32_t:t(3,24)=(3,6)",128,0,225,0
  57               		.stabs	"int_fast64_t:t(3,25)=(3,7)",128,0,230,0
GAS LISTING /var/tmp//ccCs6Agq.s 			page 2


  58               		.stabs	"uint_fast64_t:t(3,26)=(3,8)",128,0,235,0
  59               		.stabs	"intmax_t:t(3,27)=(3,7)",128,0,249,0
  60               		.stabs	"uintmax_t:t(3,28)=(3,8)",128,0,254,0
  61               		.stabn	162,0,0,0
  62               		.stabs	"int_farptr_t:t(2,1)=(3,5)",128,0,76,0
  63               		.stabs	"uint_farptr_t:t(2,2)=(3,6)",128,0,80,0
  64               		.stabn	162,0,0,0
  65               		.stabs	"/opt/local/lib/gcc/avr/4.0.2/include/stdarg.h",130,0,0,0
  66               		.stabs	"__gnuc_va_list:t(4,1)=(4,2)=*(0,15)",128,0,43,0
  67               		.stabs	"va_list:t(4,3)=(4,1)",128,0,105,0
  68               		.stabn	162,0,0,0
  69               		.stabs	"/opt/local/lib/gcc/avr/4.0.2/include/stddef.h",130,0,0,0
  70               		.stabs	"size_t:t(5,1)=(0,4)",128,0,214,0
  71               		.stabn	162,0,0,0
  72               		.stabs	"__file:T(1,1)=s14buf:(1,2)=*(0,2),0,16;unget:(0,11),16,8;flags:(3,2),24,8;size:(0,1),32,16
  73               		.stabn	162,0,0,0
  74               		.stabs	"/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h",130,0,0,0
  75               		.stabs	"/opt/local/lib/gcc/avr/4.0.2/include/stddef.h",130,0,0,0
  76               		.stabs	"wchar_t:t(7,1)=(0,1)",128,0,326,0
  77               		.stabn	162,0,0,0
  78               		.stabs	"div_t:t(6,1)=(6,2)=s4quot:(0,1),0,16;rem:(0,1),16,16;;",128,0,69,0
  79               		.stabs	"ldiv_t:t(6,3)=(6,4)=s8quot:(0,3),0,32;rem:(0,3),32,32;;",128,0,75,0
  80               		.stabs	"__compar_fn_t:t(6,5)=(6,6)=*(6,7)=f(0,1)",128,0,78,0
  81               		.stabn	162,0,0,0
  82               		.stabs	"nmeap.h",130,0,0,0
  83               		.stabs	"/opt/local/avr/sixcode/avrlibtypes.h",130,0,0,0
  84               		.stabs	"u08:t(9,1)=(0,11)",128,0,32,0
  85               		.stabs	"s08:t(9,2)=(0,10)",128,0,33,0
  86               		.stabs	"u16:t(9,3)=(0,9)",128,0,34,0
  87               		.stabs	"s16:t(9,4)=(0,8)",128,0,35,0
  88               		.stabs	"u32:t(9,5)=(0,5)",128,0,36,0
  89               		.stabs	"s32:t(9,6)=(0,3)",128,0,37,0
  90               		.stabs	"u64:t(9,7)=(0,7)",128,0,38,0
  91               		.stabs	"s64:t(9,8)=(0,6)",128,0,39,0
  92               		.stabs	"BOOL:t(9,9)=(0,11)",128,0,69,0
  93               		.stabs	"BYTE:t(9,10)=(0,11)",128,0,70,0
  94               		.stabs	"WORD:t(9,11)=(0,4)",128,0,71,0
  95               		.stabs	"DWORD:t(9,12)=(0,5)",128,0,72,0
  96               		.stabs	"UCHAR:t(9,13)=(0,11)",128,0,74,0
  97               		.stabs	"UINT:t(9,14)=(0,4)",128,0,75,0
  98               		.stabs	"USHORT:t(9,15)=(0,9)",128,0,76,0
  99               		.stabs	"ULONG:t(9,16)=(0,5)",128,0,77,0
 100               		.stabs	"CHAR:t(9,17)=(0,2)",128,0,79,0
 101               		.stabs	"INT:t(9,18)=(0,1)",128,0,80,0
 102               		.stabs	"LONG:t(9,19)=(0,3)",128,0,81,0
 103               		.stabn	162,0,0,0
 104               		.stabs	"nmeap_callout_t:t(8,1)=(8,2)=*(8,3)=f(0,15)",128,0,79,0
 105               		.stabs	"nmeap_sentence_parser_t:t(8,4)=(8,5)=*(8,6)=f(0,1)",128,0,91,0
 106               		.stabs	"nmeap_def.h",130,0,0,0
 107               		.stabs	"nmeap_sentence:T(10,1)=s14name:(10,2)=ar(10,3)=r(10,3);0;0177777;;0;5;(0,2),0,48;id:(0,1),
 108               		.stabs	"nmeap_sentence_t:t(10,4)=(10,1)",128,0,34,0
 109               		.stabs	"nmeap_context:T(10,5)=s718sentence:(10,6)=ar(10,3);0;7;(10,4),0,896;sentence_count:(0,1),8
 110               		.stabs	"nmeap_context_t:t(10,9)=(10,5)",128,0,70,0
 111               		.stabn	162,0,0,0
 112               		.stabs	"nmeap_gga:T(8,7)=s28latitude:(0,13),0,32;longitude:(0,13),32,32;altitude:(0,13),64,32;time
 113               		.stabs	"nmeap_gga_t:t(8,8)=(8,7)",128,0,118,0
 114               		.stabs	"nmeap_rmc:T(8,9)=s25time:(1,2),0,16;warn:(0,2),16,8;latitude:(0,13),24,32;longitude:(0,13)
GAS LISTING /var/tmp//ccCs6Agq.s 			page 3


 115               		.stabs	"nmeap_rmc_t:t(8,10)=(8,9)",128,0,132,0
 116               		.stabn	162,0,0,0
 117               		.stabs	"nmeap_altitude:F(0,13)",36,0,153,nmeap_altitude
 118               		.stabs	"palt:P(0,16)=*(0,17)=k(0,2)",64,0,152,30
 119               		.stabs	"punits:P(0,16)",64,0,152,28
 120               	.global	nmeap_altitude
 121               		.type	nmeap_altitude, @function
 122               	nmeap_altitude:
 123               		.stabd	46,0,0
   1:nmeap01.c     **** /*
   2:nmeap01.c     **** Copyright (c) 2005, David M Howard (daveh at dmh2000.com)
   3:nmeap01.c     **** All rights reserved.
   4:nmeap01.c     **** 
   5:nmeap01.c     **** This product is licensed for use and distribution under the BSD Open Source License.
   6:nmeap01.c     **** see the file COPYING for more details.
   7:nmeap01.c     **** 
   8:nmeap01.c     **** THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" 
   9:nmeap01.c     **** AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
  10:nmeap01.c     **** IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE 
  11:nmeap01.c     **** ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE 
  12:nmeap01.c     **** LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, 
  13:nmeap01.c     **** OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT 
  14:nmeap01.c     **** OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; 
  15:nmeap01.c     **** OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  16:nmeap01.c     **** WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE 
  17:nmeap01.c     **** OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, 
  18:nmeap01.c     **** EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 
  19:nmeap01.c     **** 
  20:nmeap01.c     **** */
  21:nmeap01.c     **** 
  22:nmeap01.c     **** /**
  23:nmeap01.c     ****  * nmeap01.c
  24:nmeap01.c     ****  * nmeap gps data parser
  25:nmeap01.c     ****  * 
  26:nmeap01.c     ****  * see the file COPYING for terms of the licnese
  27:nmeap01.c     **** */ 
  28:nmeap01.c     ****  
  29:nmeap01.c     ****  
  30:nmeap01.c     **** #include <stdio.h>
  31:nmeap01.c     **** #include <stdlib.h>
  32:nmeap01.c     **** #include <string.h>
  33:nmeap01.c     **** #include <ctype.h>
  34:nmeap01.c     **** #include "nmeap.h"
  35:nmeap01.c     **** #include "assert.h" 
  36:nmeap01.c     **** #include <math.h>
  37:nmeap01.c     **** 
  38:nmeap01.c     **** /* this only works if you are sure you have an upper case hex digit */
  39:nmeap01.c     **** #define HEXTOBIN(ch) ((ch <= '9') ? ch - '0' : ch - ('A' - 10))
  40:nmeap01.c     **** 
  41:nmeap01.c     **** /* forward references */
  42:nmeap01.c     **** int nmeap_init(nmeap_context_t *context,void *user_data);
  43:nmeap01.c     **** int nmeap_addParser(nmeap_context_t         *context,
  44:nmeap01.c     **** 					 const char             *sentence_name,
  45:nmeap01.c     **** 					 nmeap_sentence_parser_t sentence_parser,
  46:nmeap01.c     **** 					 nmeap_callout_t         sentence_callout,
  47:nmeap01.c     ****                      void                  *sentence_data
  48:nmeap01.c     **** 					 );
GAS LISTING /var/tmp//ccCs6Agq.s 			page 4


  49:nmeap01.c     **** int nmeap_tokenize(nmeap_context_t *context);
  50:nmeap01.c     **** int nmeap_process(nmeap_context_t *context);
  51:nmeap01.c     **** int nmeap_parse(nmeap_context_t *context,char ch);
  52:nmeap01.c     **** int nmeap_parseBuffer(nmeap_context_t *context,const char *buffer,int *length);
  53:nmeap01.c     **** char timebuffer[10];
  54:nmeap01.c     **** char datebuffer[10];
  55:nmeap01.c     **** /**
  56:nmeap01.c     ****  * get a latitude out of a pair of nmea tokens 
  57:nmeap01.c     ****  */
  58:nmeap01.c     **** double nmeap_latitude(const char *plat,const char *phem)
  59:nmeap01.c     **** {
  60:nmeap01.c     ****     double lat;
  61:nmeap01.c     ****     int    deg;
  62:nmeap01.c     ****     double min;
  63:nmeap01.c     ****     int    ns;
  64:nmeap01.c     ****     
  65:nmeap01.c     ****     assert(plat != 0);
  66:nmeap01.c     ****     assert(phem != 0);
  67:nmeap01.c     ****     
  68:nmeap01.c     ****     if (*plat == 0) {
  69:nmeap01.c     ****         return 0.0;
  70:nmeap01.c     ****     }
  71:nmeap01.c     ****     if (*phem == 0) {
  72:nmeap01.c     ****         return 0.0;
  73:nmeap01.c     ****     }
  74:nmeap01.c     ****     
  75:nmeap01.c     ****     /* north lat is +, south lat is - */
  76:nmeap01.c     ****     if (*phem == 'N') {
  77:nmeap01.c     ****         ns = 1;
  78:nmeap01.c     ****     }
  79:nmeap01.c     ****     else {
  80:nmeap01.c     ****         ns = -1;
  81:nmeap01.c     ****     }
  82:nmeap01.c     ****     
  83:nmeap01.c     ****     /* latitude is degrees, minutes, fractional minutes */
  84:nmeap01.c     ****     /* no validation is performed on the token. it better be good.*/
  85:nmeap01.c     ****     /* if it comes back 0.0 then probably the token was bad */
  86:nmeap01.c     ****     lat = atof(plat);
  87:nmeap01.c     ****     
  88:nmeap01.c     ****     /* extract the degree part */
  89:nmeap01.c     ****     deg = (int)(lat / 100.0);
  90:nmeap01.c     ****     
  91:nmeap01.c     ****     /* mask out the degrees */
  92:nmeap01.c     ****     min = lat - (deg * 100.0);
  93:nmeap01.c     ****     
  94:nmeap01.c     ****     /* compute the actual latitude in degrees.decimal-degrees */
  95:nmeap01.c     ****     lat = (deg + (min / 60.0)) * ns;
  96:nmeap01.c     ****     
  97:nmeap01.c     ****     return lat;
  98:nmeap01.c     **** }
  99:nmeap01.c     **** 
 100:nmeap01.c     **** 
 101:nmeap01.c     **** 
 102:nmeap01.c     **** /**
 103:nmeap01.c     ****  * get a longitude out of a pair of nmea tokens 
 104:nmeap01.c     ****  */
 105:nmeap01.c     **** double nmeap_longitude(const char *plon,const char *phem)
GAS LISTING /var/tmp//ccCs6Agq.s 			page 5


 106:nmeap01.c     **** {
 107:nmeap01.c     ****     double lon;
 108:nmeap01.c     ****     int    deg;
 109:nmeap01.c     ****     double min;
 110:nmeap01.c     ****     int    ew;
 111:nmeap01.c     ****     
 112:nmeap01.c     ****     assert(plon != 0);
 113:nmeap01.c     ****     assert(phem != 0);
 114:nmeap01.c     ****     
 115:nmeap01.c     ****     if (*plon == 0) {
 116:nmeap01.c     ****         return 0.0;
 117:nmeap01.c     ****     }
 118:nmeap01.c     ****     if (*phem == 0) {
 119:nmeap01.c     ****         return 0.0;
 120:nmeap01.c     ****     }
 121:nmeap01.c     ****     
 122:nmeap01.c     ****     /* west long is negative, east long is positive */
 123:nmeap01.c     ****     if (*phem == 'E') {
 124:nmeap01.c     ****         ew = 1;
 125:nmeap01.c     ****     }
 126:nmeap01.c     ****     else {
 127:nmeap01.c     ****         ew = -1;
 128:nmeap01.c     ****     }
 129:nmeap01.c     ****     
 130:nmeap01.c     ****     /* longitude is degrees, minutes, fractional minutes */
 131:nmeap01.c     ****     /* no validation is performed on the token. it better be good.*/
 132:nmeap01.c     ****     /* if it comes back 0.0 then probably the token was bad */
 133:nmeap01.c     ****     lon = atof(plon);
 134:nmeap01.c     ****     
 135:nmeap01.c     ****     /* extract the degree part */
 136:nmeap01.c     ****     deg = (int)(lon / 100.0);
 137:nmeap01.c     ****     
 138:nmeap01.c     ****     /* mask out the degrees */
 139:nmeap01.c     ****     min = lon - (deg * 100.0);
 140:nmeap01.c     ****     
 141:nmeap01.c     ****     /* compute the actual lonitude in degrees.decimal-degrees */
 142:nmeap01.c     ****     lon = (deg + (min / 60.0)) * ew;
 143:nmeap01.c     **** 
 144:nmeap01.c     ****     
 145:nmeap01.c     ****     return lon;
 146:nmeap01.c     **** }
 147:nmeap01.c     **** 
 148:nmeap01.c     **** /**
 149:nmeap01.c     ****  * get an altitude longitude out of a pair of nmea tokens
 150:nmeap01.c     ****  * ALTITUDE is returned in METERS 
 151:nmeap01.c     ****  */
 152:nmeap01.c     **** double nmeap_altitude(const char *palt,const char *punits)
 153:nmeap01.c     **** {
 124               		.stabn	68,0,153,.LM0-nmeap_altitude
 125               	.LM0:
 126               	/* prologue: frame size=0 */
 127 0000 CF93      		push r28
 128 0002 DF93      		push r29
 129               	/* prologue end (size=2) */
 130 0004 FC01      		movw r30,r24
 131 0006 EB01      		movw r28,r22
 154:nmeap01.c     ****     double alt;
GAS LISTING /var/tmp//ccCs6Agq.s 			page 6


 155:nmeap01.c     ****     
 156:nmeap01.c     ****     if (*palt == 0) {
 132               		.stabn	68,0,156,.LM1-nmeap_altitude
 133               	.LM1:
 134 0008 8081      		ld r24,Z
 135 000a 8823      		tst r24
 136 000c 29F4      		brne .L2
 137               		.stabn	68,0,156,.LM2-nmeap_altitude
 138               	.LM2:
 139 000e 60E0      		ldi r22,lo8(0x0)
 140 0010 70E0      		ldi r23,hi8(0x0)
 141 0012 80E0      		ldi r24,hlo8(0x0)
 142 0014 90E0      		ldi r25,hhi8(0x0)
 143 0016 0EC0      		rjmp .L4
 144               	.L2:
 157:nmeap01.c     ****         return 0.0;
 158:nmeap01.c     ****     }
 159:nmeap01.c     ****     
 160:nmeap01.c     ****     /* convert with no error checking */
 161:nmeap01.c     ****     alt = atof(palt);
 145               		.stabn	68,0,161,.LM3-nmeap_altitude
 146               	.LM3:
 147 0018 CF01      		movw r24,r30
 148 001a 0E94 0000 		call atof
 162:nmeap01.c     ****     
 163:nmeap01.c     ****     if (*punits == 'M') {
 149               		.stabn	68,0,163,.LM4-nmeap_altitude
 150               	.LM4:
 151 001e 2881      		ld r18,Y
 152 0020 2D34      		cpi r18,lo8(77)
 153 0022 41F0      		breq .L4
 164:nmeap01.c     ****         /* already in meters */ 
 165:nmeap01.c     ****     }
 166:nmeap01.c     ****     else if (*punits == 'F') {
 154               		.stabn	68,0,166,.LM5-nmeap_altitude
 155               	.LM5:
 156 0024 2634      		cpi r18,lo8(70)
 157 0026 31F4      		brne .L4
 167:nmeap01.c     ****         /* convert to feet */
 168:nmeap01.c     ****         alt = alt * 3.2808399;
 158               		.stabn	68,0,168,.LM6-nmeap_altitude
 159               	.LM6:
 160 0028 28E4      		ldi r18,lo8(0x4051f948)
 161 002a 39EF      		ldi r19,hi8(0x4051f948)
 162 002c 41E5      		ldi r20,hlo8(0x4051f948)
 163 002e 50E4      		ldi r21,hhi8(0x4051f948)
 164 0030 0E94 0000 		call __mulsf3
 165               	.L4:
 166               	/* epilogue: frame size=0 */
 167 0034 DF91      		pop r29
 168 0036 CF91      		pop r28
 169 0038 0895      		ret
 170               	/* epilogue end (size=3) */
 171               	/* function nmeap_altitude size 29 (24) */
 172               		.size	nmeap_altitude, .-nmeap_altitude
 173               		.stabs	"alt:r(0,13)",64,0,154,22
 174               		.stabn	192,0,0,nmeap_altitude-nmeap_altitude
GAS LISTING /var/tmp//ccCs6Agq.s 			page 7


 175               		.stabn	224,0,0,.Lscope0-nmeap_altitude
 176               	.Lscope0:
 177               		.stabs	"",36,0,0,.Lscope0-nmeap_altitude
 178               		.stabd	78,0,0
 179               		.stabs	"nmeap_tokenize:F(0,1)",36,0,237,nmeap_tokenize
 180               		.stabs	"context:P(0,18)=*(10,9)",64,0,236,30
 181               	.global	nmeap_tokenize
 182               		.type	nmeap_tokenize, @function
 183               	nmeap_tokenize:
 184               		.stabd	46,0,0
 169:nmeap01.c     ****     }
 170:nmeap01.c     ****     
 171:nmeap01.c     ****     return alt;
 172:nmeap01.c     **** }
 173:nmeap01.c     **** 
 174:nmeap01.c     **** /**
 175:nmeap01.c     ****  * initialize an NMEA parser
 176:nmeap01.c     ****  */
 177:nmeap01.c     **** int nmeap_init(nmeap_context_t *context,void *user_data)
 178:nmeap01.c     **** {
 179:nmeap01.c     ****     assert(context != 0);
 180:nmeap01.c     **** 
 181:nmeap01.c     ****     memset(context,0,sizeof(*context));
 182:nmeap01.c     **** 
 183:nmeap01.c     ****     context->user_data = user_data;
 184:nmeap01.c     **** 
 185:nmeap01.c     ****     return 0;    
 186:nmeap01.c     **** }
 187:nmeap01.c     **** 
 188:nmeap01.c     ****  
 189:nmeap01.c     **** /**
 190:nmeap01.c     ****  * register an NMEA sentence parser
 191:nmeap01.c     ****  */
 192:nmeap01.c     **** int nmeap_addParser(nmeap_context_t         *context,
 193:nmeap01.c     **** 					 const char             *sentence_name,
 194:nmeap01.c     **** 					 nmeap_sentence_parser_t sentence_parser,
 195:nmeap01.c     **** 					 nmeap_callout_t         sentence_callout,
 196:nmeap01.c     ****                      void                  *sentence_data
 197:nmeap01.c     **** 					 )
 198:nmeap01.c     **** {
 199:nmeap01.c     ****     nmeap_sentence_t *s = 0;
 200:nmeap01.c     ****     
 201:nmeap01.c     ****     /* runtime error */
 202:nmeap01.c     ****     assert(context != 0);
 203:nmeap01.c     ****     
 204:nmeap01.c     ****     /* sentence capacity overflow */
 205:nmeap01.c     ****     if (context->sentence_count >= NMEAP_MAX_SENTENCES) {
 206:nmeap01.c     ****         return -1;
 207:nmeap01.c     ****     }
 208:nmeap01.c     ****     
 209:nmeap01.c     ****     /* point at next empty sentence buffer */
 210:nmeap01.c     ****     s = &context->sentence[context->sentence_count];
 211:nmeap01.c     ****     
 212:nmeap01.c     ****     /* advance sentence data count */
 213:nmeap01.c     ****     context->sentence_count++;
 214:nmeap01.c     ****     
 215:nmeap01.c     ****     /* clear the sentence data */
GAS LISTING /var/tmp//ccCs6Agq.s 			page 8


 216:nmeap01.c     ****     memset(s,0,sizeof(*s));
 217:nmeap01.c     ****     
 218:nmeap01.c     ****     /* name */
 219:nmeap01.c     ****     strncpy(s->name,sentence_name,NMEAP_MAX_SENTENCE_NAME_LENGTH);
 220:nmeap01.c     ****     
 221:nmeap01.c     ****     /* parser */
 222:nmeap01.c     ****     s->parser = sentence_parser;
 223:nmeap01.c     ****     
 224:nmeap01.c     ****     /* callout */
 225:nmeap01.c     ****     s->callout = sentence_callout;
 226:nmeap01.c     ****     
 227:nmeap01.c     ****     /* data */
 228:nmeap01.c     ****     s->data    = sentence_data;
 229:nmeap01.c     **** 
 230:nmeap01.c     ****     return 0;
 231:nmeap01.c     **** }
 232:nmeap01.c     **** 
 233:nmeap01.c     **** /** 
 234:nmeap01.c     ****  * tokenize a buffer
 235:nmeap01.c     ****  */
 236:nmeap01.c     **** int nmeap_tokenize(nmeap_context_t *context)
 237:nmeap01.c     **** {
 185               		.stabn	68,0,237,.LM7-nmeap_tokenize
 186               	.LM7:
 187               	/* prologue: frame size=0 */
 188               	/* prologue end (size=0) */
 189 003a FC01      		movw r30,r24
 238:nmeap01.c     ****     char *s;
 239:nmeap01.c     ****     int   tokens;
 240:nmeap01.c     ****     int   state;
 241:nmeap01.c     ****     
 242:nmeap01.c     ****     /* first token is header. assume it is there */
 243:nmeap01.c     ****     tokens = 0;
 244:nmeap01.c     ****     s = context->input;
 190               		.stabn	68,0,244,.LM8-nmeap_tokenize
 191               	.LM8:
 192 003c DC01      		movw r26,r24
 193 003e AE58      		subi r26,lo8(-(114))
 194 0040 BF4F      		sbci r27,hi8(-(114))
 245:nmeap01.c     ****     context->token[tokens] = s;
 195               		.stabn	68,0,245,.LM9-nmeap_tokenize
 196               	.LM9:
 197 0042 E258      		subi r30,lo8(-(382))
 198 0044 FE4F      		sbci r31,hi8(-(382))
 199 0046 A193      		st Z+,r26
 200 0048 B193      		st Z+,r27
 201 004a 41E0      		ldi r20,lo8(1)
 202 004c 50E0      		ldi r21,hi8(1)
 203 004e 20E0      		ldi r18,lo8(0)
 204 0050 30E0      		ldi r19,hi8(0)
 205 0052 19C0      		rjmp .L9
 206               	.L10:
 246:nmeap01.c     ****     
 247:nmeap01.c     ****     /* get rest of tokens */
 248:nmeap01.c     ****     tokens = 1;
 249:nmeap01.c     ****     state = 0;
 250:nmeap01.c     ****     while((*s != 0)&&(tokens < NMEAP_MAX_TOKENS)) {
GAS LISTING /var/tmp//ccCs6Agq.s 			page 9


 251:nmeap01.c     ****         switch(state) {
 207               		.stabn	68,0,251,.LM10-nmeap_tokenize
 208               	.LM10:
 209 0054 2115      		cp r18,__zero_reg__
 210 0056 3105      		cpc r19,__zero_reg__
 211 0058 21F0      		breq .L12
 212 005a 2130      		cpi r18,1
 213 005c 3105      		cpc r19,__zero_reg__
 214 005e 81F4      		brne .L11
 215 0060 06C0      		rjmp .L13
 216               	.L12:
 252:nmeap01.c     ****         case 0:
 253:nmeap01.c     ****             /* looking for end of a token */
 254:nmeap01.c     ****             if (*s == ',') {
 217               		.stabn	68,0,254,.LM11-nmeap_tokenize
 218               	.LM11:
 219 0062 8C32      		cpi r24,lo8(44)
 220 0064 69F4      		brne .L11
 255:nmeap01.c     ****                 /* delimit at the comma */
 256:nmeap01.c     ****                 *s    = 0;
 221               		.stabn	68,0,256,.LM12-nmeap_tokenize
 222               	.LM12:
 223 0066 1C92      		st X,__zero_reg__
 224 0068 21E0      		ldi r18,lo8(1)
 225 006a 30E0      		ldi r19,hi8(1)
 226 006c 0BC0      		rjmp .L15
 227               	.L13:
 257:nmeap01.c     ****                 /* new token */
 258:nmeap01.c     ****                 state = 1;
 259:nmeap01.c     ****             }
 260:nmeap01.c     ****             break;
 261:nmeap01.c     ****         case 1:
 262:nmeap01.c     ****             /* start of next token, might be another comma */
 263:nmeap01.c     ****             context->token[tokens++] = s;
 228               		.stabn	68,0,263,.LM13-nmeap_tokenize
 229               	.LM13:
 230 006e A193      		st Z+,r26
 231 0070 B193      		st Z+,r27
 232 0072 4F5F      		subi r20,lo8(-(1))
 233 0074 5F4F      		sbci r21,hi8(-(1))
 264:nmeap01.c     ****             if (*s == ',') {
 234               		.stabn	68,0,264,.LM14-nmeap_tokenize
 235               	.LM14:
 236 0076 8C91      		ld r24,X
 237 0078 8C32      		cpi r24,lo8(44)
 238 007a 11F4      		brne .L11
 265:nmeap01.c     ****                 /* delimit at the comma */
 266:nmeap01.c     ****                 *s    = 0;
 239               		.stabn	68,0,266,.LM15-nmeap_tokenize
 240               	.LM15:
 241 007c 1C92      		st X,__zero_reg__
 242 007e 02C0      		rjmp .L15
 243               	.L11:
 244 0080 20E0      		ldi r18,lo8(0)
 245 0082 30E0      		ldi r19,hi8(0)
 246               	.L15:
 267:nmeap01.c     ****             }
GAS LISTING /var/tmp//ccCs6Agq.s 			page 10


 268:nmeap01.c     ****             else {   
 269:nmeap01.c     ****                 /* not a comma */
 270:nmeap01.c     ****                 state = 0;
 271:nmeap01.c     ****             }
 272:nmeap01.c     ****             break;
 273:nmeap01.c     ****         default:
 274:nmeap01.c     ****             state = 0;
 275:nmeap01.c     ****             break;
 276:nmeap01.c     ****         }
 277:nmeap01.c     ****         
 278:nmeap01.c     ****         // next character
 279:nmeap01.c     ****         s++;
 247               		.stabn	68,0,279,.LM16-nmeap_tokenize
 248               	.LM16:
 249 0084 1196      		adiw r26,1
 250               	.L9:
 251               		.stabn	68,0,250,.LM17-nmeap_tokenize
 252               	.LM17:
 253 0086 8C91      		ld r24,X
 254 0088 8823      		tst r24
 255 008a 19F0      		breq .L17
 256 008c 4831      		cpi r20,24
 257 008e 5105      		cpc r21,__zero_reg__
 258 0090 0CF3      		brlt .L10
 259               	.L17:
 280:nmeap01.c     ****     }
 281:nmeap01.c     ****     return tokens;
 282:nmeap01.c     **** }
 260               		.stabn	68,0,282,.LM18-nmeap_tokenize
 261               	.LM18:
 262 0092 CA01      		movw r24,r20
 263               	/* epilogue: frame size=0 */
 264 0094 0895      		ret
 265               	/* epilogue end (size=1) */
 266               	/* function nmeap_tokenize size 46 (45) */
 267               		.size	nmeap_tokenize, .-nmeap_tokenize
 268               		.stabs	"s:r(1,2)",64,0,238,26
 269               		.stabs	"tokens:r(0,1)",64,0,239,20
 270               		.stabs	"state:r(0,1)",64,0,240,18
 271               		.stabn	192,0,0,nmeap_tokenize-nmeap_tokenize
 272               		.stabn	224,0,0,.Lscope1-nmeap_tokenize
 273               	.Lscope1:
 274               		.stabs	"",36,0,0,.Lscope1-nmeap_tokenize
 275               		.stabd	78,0,0
 276               		.stabs	"nmeap_process:F(0,1)",36,0,288,nmeap_process
 277               		.stabs	"context:P(0,18)",64,0,287,28
 278               	.global	nmeap_process
 279               		.type	nmeap_process, @function
 280               	nmeap_process:
 281               		.stabd	46,0,0
 283:nmeap01.c     **** 
 284:nmeap01.c     **** /**
 285:nmeap01.c     ****  * process a sentence 
 286:nmeap01.c     ****  */
 287:nmeap01.c     **** int nmeap_process(nmeap_context_t *context)
 288:nmeap01.c     **** {
 282               		.stabn	68,0,288,.LM19-nmeap_process
GAS LISTING /var/tmp//ccCs6Agq.s 			page 11


 283               	.LM19:
 284               	/* prologue: frame size=0 */
 285 0096 CF92      		push r12
 286 0098 DF92      		push r13
 287 009a EF92      		push r14
 288 009c FF92      		push r15
 289 009e 0F93      		push r16
 290 00a0 1F93      		push r17
 291 00a2 CF93      		push r28
 292 00a4 DF93      		push r29
 293               	/* prologue end (size=8) */
 294 00a6 EC01      		movw r28,r24
 289:nmeap01.c     ****     int id = 0;
 290:nmeap01.c     ****     int i;
 291:nmeap01.c     ****     nmeap_sentence_t *s;
 292:nmeap01.c     **** 	
 293:nmeap01.c     ****     /* copy the input to a debug buffer */
 294:nmeap01.c     ****     /* remove debug_input when everything is working. */
 295:nmeap01.c     ****     strncpy(context->debug_input,context->input,sizeof(context->debug_input));
 295               		.stabn	68,0,295,.LM20-nmeap_process
 296               	.LM20:
 297 00a8 BC01      		movw r22,r24
 298 00aa 6E58      		subi r22,lo8(-(114))
 299 00ac 7F4F      		sbci r23,hi8(-(114))
 300 00ae 40E0      		ldi r20,lo8(256)
 301 00b0 51E0      		ldi r21,hi8(256)
 302 00b2 8453      		subi r24,lo8(-(460))
 303 00b4 9E4F      		sbci r25,hi8(-(460))
 304 00b6 0E94 0000 		call strncpy
 296:nmeap01.c     ****     
 297:nmeap01.c     ****     /* tokenize the input */
 298:nmeap01.c     ****     context->tokens = nmeap_tokenize(context);
 305               		.stabn	68,0,298,.LM21-nmeap_process
 306               	.LM21:
 307 00ba CE01      		movw r24,r28
 308 00bc 0E94 0000 		call nmeap_tokenize
 309 00c0 C255      		subi r28,lo8(-(430))
 310 00c2 DE4F      		sbci r29,hi8(-(430))
 311 00c4 9983      		std Y+1,r25
 312 00c6 8883      		st Y,r24
 313 00c8 CE5A      		subi r28,lo8(-(-430))
 314 00ca D140      		sbci r29,hi8(-(-430))
 315 00cc EE24      		clr r14
 316 00ce FF24      		clr r15
 317 00d0 CC24      		clr r12
 318 00d2 DD24      		clr r13
 319 00d4 8E01      		movw r16,r28
 320 00d6 1EC0      		rjmp .L21
 321               	.L22:
 299:nmeap01.c     ****     
 300:nmeap01.c     ****     /* try to find a matching sentence parser */
 301:nmeap01.c     ****     /* this search is O(n). it has a lot of potential for optimization, at the expense of complexit
 302:nmeap01.c     ****     /* binary search instead of linear (have to keep sentences in sorted order) O(NlogN) */
 303:nmeap01.c     ****     /* OR, when sentences are added, create a TRIE structure to find the names with a constant time
 304:nmeap01.c     ****     for(i=0;i<context->sentence_count;i++) {
 305:nmeap01.c     ****         s = &context->sentence[i];
 306:nmeap01.c     ****         assert(s != 0);
GAS LISTING /var/tmp//ccCs6Agq.s 			page 12


 322               		.stabn	68,0,306,.LM22-nmeap_process
 323               	.LM22:
 324 00d8 0115      		cp r16,__zero_reg__
 325 00da 1105      		cpc r17,__zero_reg__
 326 00dc 09F4      		brne .L23
 327               	.L29:
 328 00de FFCF      		rjmp .L29
 329               	.L23:
 307:nmeap01.c     ****         if (strncmp(context->input_name,s->name,5) == 0) {
 330               		.stabn	68,0,307,.LM23-nmeap_process
 331               	.LM23:
 332 00e0 45E0      		ldi r20,lo8(5)
 333 00e2 50E0      		ldi r21,hi8(5)
 334 00e4 B801      		movw r22,r16
 335 00e6 CE01      		movw r24,r28
 336 00e8 8A58      		subi r24,lo8(-(374))
 337 00ea 9E4F      		sbci r25,hi8(-(374))
 338 00ec 0E94 0000 		call strncmp
 339 00f0 892B      		or r24,r25
 340 00f2 59F4      		brne .L25
 308:nmeap01.c     ****             /* found a match, call its parser */
 309:nmeap01.c     ****             id = (*context->sentence[i].parser)(context,s);
 341               		.stabn	68,0,309,.LM24-nmeap_process
 342               	.LM24:
 343 00f4 F801      		movw r30,r16
 344 00f6 2085      		ldd r18,Z+8
 345 00f8 3185      		ldd r19,Z+9
 346 00fa B801      		movw r22,r16
 347 00fc CE01      		movw r24,r28
 348 00fe F901      		movw r30,r18
 349 0100 0995      		icall
 350 0102 7C01      		movw r14,r24
 310:nmeap01.c     ****             if (id > 0) {
 351               		.stabn	68,0,310,.LM25-nmeap_process
 352               	.LM25:
 353 0104 1816      		cp __zero_reg__,r24
 354 0106 1906      		cpc __zero_reg__,r25
 355 0108 74F0      		brlt .L27
 356               	.L25:
 357               		.stabn	68,0,304,.LM26-nmeap_process
 358               	.LM26:
 359 010a 0894      		sec
 360 010c C11C      		adc r12,__zero_reg__
 361 010e D11C      		adc r13,__zero_reg__
 362 0110 025F      		subi r16,lo8(-(14))
 363 0112 1F4F      		sbci r17,hi8(-(14))
 364               	.L21:
 365 0114 C059      		subi r28,lo8(-(112))
 366 0116 DF4F      		sbci r29,hi8(-(112))
 367 0118 8881      		ld r24,Y
 368 011a 9981      		ldd r25,Y+1
 369 011c C057      		subi r28,lo8(-(-112))
 370 011e D040      		sbci r29,hi8(-(-112))
 371 0120 C816      		cp r12,r24
 372 0122 D906      		cpc r13,r25
 373 0124 CCF2      		brlt .L22
 374               	.L27:
GAS LISTING /var/tmp//ccCs6Agq.s 			page 13


 311:nmeap01.c     ****                 break;
 312:nmeap01.c     ****             }
 313:nmeap01.c     ****         }
 314:nmeap01.c     ****     }
 315:nmeap01.c     ****         
 316:nmeap01.c     ****     return id;
 317:nmeap01.c     **** }
 375               		.stabn	68,0,317,.LM27-nmeap_process
 376               	.LM27:
 377 0126 C701      		movw r24,r14
 378               	/* epilogue: frame size=0 */
 379 0128 DF91      		pop r29
 380 012a CF91      		pop r28
 381 012c 1F91      		pop r17
 382 012e 0F91      		pop r16
 383 0130 FF90      		pop r15
 384 0132 EF90      		pop r14
 385 0134 DF90      		pop r13
 386 0136 CF90      		pop r12
 387 0138 0895      		ret
 388               	/* epilogue end (size=9) */
 389               	/* function nmeap_process size 82 (65) */
 390               		.size	nmeap_process, .-nmeap_process
 391               		.stabs	"id:r(0,1)",64,0,289,14
 392               		.stabs	"i:r(0,1)",64,0,290,12
 393               		.stabn	192,0,0,nmeap_process-nmeap_process
 394               		.stabn	224,0,0,.Lscope2-nmeap_process
 395               	.Lscope2:
 396               		.stabs	"",36,0,0,.Lscope2-nmeap_process
 397               		.stabd	78,0,0
 398               		.stabs	"nmeap_parse:F(0,1)",36,0,343,nmeap_parse
 399               		.stabs	"context:P(0,18)",64,0,342,28
 400               		.stabs	"ch:P(0,2)",64,0,342,13
 401               	.global	nmeap_parse
 402               		.type	nmeap_parse, @function
 403               	nmeap_parse:
 404               		.stabd	46,0,0
 318:nmeap01.c     **** 
 319:nmeap01.c     **** /**
 320:nmeap01.c     ****                  +-5-+              +---+
 321:nmeap01.c     ****                  v   |              v   |
 322:nmeap01.c     ****  +------+       +------+           +------+         +------+         +------+
 323:nmeap01.c     ****  |   0  |--$--> |1-hdr |--alnum--> |2-data|----\r-->| 6-LF |---\n--->| done |--> 0
 324:nmeap01.c     ****  +------+       +------+           +------+         +------+         +------+
 325:nmeap01.c     ****                                     |                 ^
 326:nmeap01.c     ****                                     *                 +--------\r-------+
 327:nmeap01.c     ****                                     V                                   |
 328:nmeap01.c     ****                                  +------+           +------+         +------+
 329:nmeap01.c     ****                                  |3-cks |--xdigit-->|4-cks |-xdigit->| 5-CR |
 330:nmeap01.c     ****                                  +------+           +------+         +------+
 331:nmeap01.c     ****                                  
 332:nmeap01.c     **** return to start conditions:
 333:nmeap01.c     **** 1. buffer overflow
 334:nmeap01.c     **** 2. invalid character for state
 335:nmeap01.c     **** 
 336:nmeap01.c     **** checksum calculation
 337:nmeap01.c     **** two hex digits represent the XOR of all characters between, but not
GAS LISTING /var/tmp//ccCs6Agq.s 			page 14


 338:nmeap01.c     **** including, the "$" and "*".  A checksum is required on some
 339:nmeap01.c     **** sentences.
 340:nmeap01.c     **** 
 341:nmeap01.c     **** */
 342:nmeap01.c     **** int nmeap_parse(nmeap_context_t *context,char ch)
 343:nmeap01.c     **** {
 405               		.stabn	68,0,343,.LM28-nmeap_parse
 406               	.LM28:
 407               	/* prologue: frame size=0 */
 408 013a 8F92      		push r8
 409 013c 9F92      		push r9
 410 013e AF92      		push r10
 411 0140 BF92      		push r11
 412 0142 DF92      		push r13
 413 0144 EF92      		push r14
 414 0146 FF92      		push r15
 415 0148 0F93      		push r16
 416 014a 1F93      		push r17
 417 014c CF93      		push r28
 418 014e DF93      		push r29
 419               	/* prologue end (size=11) */
 420 0150 EC01      		movw r28,r24
 421 0152 D62E      		mov r13,r22
 344:nmeap01.c     ****     int status = 0;
 345:nmeap01.c     ****     
 346:nmeap01.c     ****     /* check for input buffer overrun first to avoid duplicating code in the
 347:nmeap01.c     ****     individual states
 348:nmeap01.c     ****     */
 349:nmeap01.c     ****     if (context->input_count >= (sizeof(context->input)-1)) {
 422               		.stabn	68,0,349,.LM29-nmeap_parse
 423               	.LM29:
 424 0154 92E7      		ldi r25,lo8(370)
 425 0156 892E      		mov r8,r25
 426 0158 91E0      		ldi r25,hi8(370)
 427 015a 992E      		mov r9,r25
 428 015c 8C0E      		add r8,r28
 429 015e 9D1E      		adc r9,r29
 430 0160 F401      		movw r30,r8
 431 0162 8081      		ld r24,Z
 432 0164 9181      		ldd r25,Z+1
 433 0166 8F3F      		cpi r24,255
 434 0168 9105      		cpc r25,__zero_reg__
 435 016a 40F0      		brlo .L31
 350:nmeap01.c     ****         /* input buffer overrun, restart state machine */
 351:nmeap01.c     ****         context->input_state = 0;
 436               		.stabn	68,0,351,.LM30-nmeap_parse
 437               	.LM30:
 438 016c CC58      		subi r28,lo8(-(372))
 439 016e DE4F      		sbci r29,hi8(-(372))
 440 0170 1982      		std Y+1,__zero_reg__
 441 0172 1882      		st Y,__zero_reg__
 442 0174 C457      		subi r28,lo8(-(-372))
 443 0176 D140      		sbci r29,hi8(-(-372))
 352:nmeap01.c     ****         /* reset input count */
 353:nmeap01.c     ****         context->input_count = 0;
 444               		.stabn	68,0,353,.LM31-nmeap_parse
 445               	.LM31:
GAS LISTING /var/tmp//ccCs6Agq.s 			page 15


 446 0178 1182      		std Z+1,__zero_reg__
 447 017a 1082      		st Z,__zero_reg__
 448               	.L31:
 354:nmeap01.c     ****     }
 355:nmeap01.c     ****     
 356:nmeap01.c     ****     /* store the byte */
 357:nmeap01.c     ****     context->input[context->input_count] = ch;
 449               		.stabn	68,0,357,.LM32-nmeap_parse
 450               	.LM32:
 451 017c F401      		movw r30,r8
 452 017e 8081      		ld r24,Z
 453 0180 9181      		ldd r25,Z+1
 454 0182 8C01      		movw r16,r24
 455 0184 0C0F      		add r16,r28
 456 0186 1D1F      		adc r17,r29
 457 0188 0E58      		subi r16,lo8(-(114))
 458 018a 1F4F      		sbci r17,hi8(-(114))
 459 018c F801      		movw r30,r16
 460 018e D082      		st Z,r13
 461 0190 0257      		subi r16,lo8(-(-114))
 462 0192 1040      		sbci r17,hi8(-(-114))
 358:nmeap01.c     ****     
 359:nmeap01.c     ****     /* next buffer position */
 360:nmeap01.c     ****     context->input_count++;
 463               		.stabn	68,0,360,.LM33-nmeap_parse
 464               	.LM33:
 465 0194 7C01      		movw r14,r24
 466 0196 0894      		sec
 467 0198 E11C      		adc r14,__zero_reg__
 468 019a F11C      		adc r15,__zero_reg__
 469 019c F401      		movw r30,r8
 470 019e F182      		std Z+1,r15
 471 01a0 E082      		st Z,r14
 361:nmeap01.c     ****     
 362:nmeap01.c     ****     /* run it through the lexical scanner */
 363:nmeap01.c     ****     switch(context->input_state) {
 472               		.stabn	68,0,363,.LM34-nmeap_parse
 473               	.LM34:
 474 01a2 84E7      		ldi r24,lo8(372)
 475 01a4 A82E      		mov r10,r24
 476 01a6 81E0      		ldi r24,hi8(372)
 477 01a8 B82E      		mov r11,r24
 478 01aa AC0E      		add r10,r28
 479 01ac BD1E      		adc r11,r29
 480 01ae F501      		movw r30,r10
 481 01b0 8081      		ld r24,Z
 482 01b2 9181      		ldd r25,Z+1
 483 01b4 8330      		cpi r24,3
 484 01b6 9105      		cpc r25,__zero_reg__
 485 01b8 09F4      		brne .+2
 486 01ba 5EC0      		rjmp .L37
 487 01bc 8430      		cpi r24,4
 488 01be 9105      		cpc r25,__zero_reg__
 489 01c0 54F4      		brge .L41
 490 01c2 8130      		cpi r24,1
 491 01c4 9105      		cpc r25,__zero_reg__
 492 01c6 29F1      		breq .L35
GAS LISTING /var/tmp//ccCs6Agq.s 			page 16


 493 01c8 8230      		cpi r24,2
 494 01ca 9105      		cpc r25,__zero_reg__
 495 01cc 0CF0      		brlt .+2
 496 01ce 3FC0      		rjmp .L36
 497 01d0 892B      		or r24,r25
 498 01d2 69F0      		breq .L34
 499 01d4 06C1      		rjmp .L33
 500               	.L41:
 501 01d6 8530      		cpi r24,5
 502 01d8 9105      		cpc r25,__zero_reg__
 503 01da 09F4      		brne .+2
 504 01dc A2C0      		rjmp .L39
 505 01de 8530      		cpi r24,5
 506 01e0 9105      		cpc r25,__zero_reg__
 507 01e2 0CF4      		brge .+2
 508 01e4 66C0      		rjmp .L38
 509 01e6 0697      		sbiw r24,6
 510 01e8 09F0      		breq .+2
 511 01ea FBC0      		rjmp .L33
 512 01ec A4C0      		rjmp .L40
 513               	.L34:
 364:nmeap01.c     ****     /* LOOKING FOR $ */
 365:nmeap01.c     ****     case 0:
 366:nmeap01.c     ****         if (ch == '$') {
 514               		.stabn	68,0,366,.LM35-nmeap_parse
 515               	.LM35:
 516 01ee F4E2      		ldi r31,lo8(36)
 517 01f0 DF16      		cp r13,r31
 518 01f2 59F4      		brne .L42
 367:nmeap01.c     ****             /*look for id */
 368:nmeap01.c     ****             context->input_state = 1;
 519               		.stabn	68,0,368,.LM36-nmeap_parse
 520               	.LM36:
 521 01f4 81E0      		ldi r24,lo8(1)
 522 01f6 90E0      		ldi r25,hi8(1)
 523 01f8 F501      		movw r30,r10
 524 01fa 9183      		std Z+1,r25
 525 01fc 8083      		st Z,r24
 369:nmeap01.c     ****             context->ccks        = 0;
 526               		.stabn	68,0,369,.LM37-nmeap_parse
 527               	.LM37:
 528 01fe C358      		subi r28,lo8(-(381))
 529 0200 DE4F      		sbci r29,hi8(-(381))
 530 0202 1882      		st Y,__zero_reg__
 370:nmeap01.c     **** 			context->icks        = 0;
 531               		.stabn	68,0,370,.LM38-nmeap_parse
 532               	.LM38:
 533 0204 FE01      		movw r30,r28
 534 0206 1292      		st -Z,__zero_reg__
 535 0208 FEC0      		rjmp .L74
 536               	.L42:
 371:nmeap01.c     ****         }
 372:nmeap01.c     ****         else {
 373:nmeap01.c     ****             /* header error, start over */
 374:nmeap01.c     ****             context->err_hdr++;
 537               		.stabn	68,0,374,.LM39-nmeap_parse
 538               	.LM39:
GAS LISTING /var/tmp//ccCs6Agq.s 			page 17


 539 020a FE01      		movw r30,r28
 540 020c EC54      		subi r30,lo8(-(436))
 541 020e FE4F      		sbci r31,hi8(-(436))
 542 0210 D6C0      		rjmp .L75
 543               	.L35:
 375:nmeap01.c     ****             context->input_state = 0;
 376:nmeap01.c     ****             context->input_count = 0;
 377:nmeap01.c     ****         }
 378:nmeap01.c     ****         break;
 379:nmeap01.c     ****     /* LOOKING FOR 5 CHARACTER SENTENCE ID */
 380:nmeap01.c     ****     case 1:
 381:nmeap01.c     ****         /* allow numbers even though it isn't usually done */
 382:nmeap01.c     ****         /* a proprietary id might have a numeral */
 383:nmeap01.c     ****         if (isalnum(ch)) {
 544               		.stabn	68,0,383,.LM40-nmeap_parse
 545               	.LM40:
 546 0212 8D2D      		mov r24,r13
 547 0214 9927      		clr r25
 548 0216 87FD      		sbrc r24,7
 549 0218 9095      		com r25
 550 021a 0E94 0000 		call isalnum
 551 021e 892B      		or r24,r25
 552 0220 91F0      		breq .L45
 384:nmeap01.c     ****             /* store name separately */
 385:nmeap01.c     ****             context->input_name[context->input_count - 2] = ch;
 553               		.stabn	68,0,385,.LM41-nmeap_parse
 554               	.LM41:
 555 0222 0B58      		subi r16,lo8(-(373))
 556 0224 1E4F      		sbci r17,hi8(-(373))
 557 0226 F801      		movw r30,r16
 558 0228 D082      		st Z,r13
 386:nmeap01.c     ****             /* checksum */
 387:nmeap01.c     ****             context->ccks ^= ch;
 559               		.stabn	68,0,387,.LM42-nmeap_parse
 560               	.LM42:
 561 022a FE01      		movw r30,r28
 562 022c E358      		subi r30,lo8(-(381))
 563 022e FE4F      		sbci r31,hi8(-(381))
 564 0230 8081      		ld r24,Z
 565 0232 8D25      		eor r24,r13
 566 0234 8083      		st Z,r24
 388:nmeap01.c     ****             /* end of header? */
 389:nmeap01.c     ****             if (context->input_count >= 6) {
 567               		.stabn	68,0,389,.LM43-nmeap_parse
 568               	.LM43:
 569 0236 F6E0      		ldi r31,lo8(6)
 570 0238 EF16      		cp r14,r31
 571 023a F104      		cpc r15,__zero_reg__
 572 023c 0CF4      		brge .+2
 573 023e E3C0      		rjmp .L74
 390:nmeap01.c     ****                 /* yes, get body */
 391:nmeap01.c     ****                 context->input_state = 2;
 574               		.stabn	68,0,391,.LM44-nmeap_parse
 575               	.LM44:
 576 0240 82E0      		ldi r24,lo8(2)
 577 0242 90E0      		ldi r25,hi8(2)
 578 0244 74C0      		rjmp .L76
GAS LISTING /var/tmp//ccCs6Agq.s 			page 18


 579               	.L45:
 392:nmeap01.c     ****             }
 393:nmeap01.c     ****         }
 394:nmeap01.c     ****         else {
 395:nmeap01.c     ****             /* bad character, start over */
 396:nmeap01.c     ****             context->err_id++;
 580               		.stabn	68,0,396,.LM45-nmeap_parse
 581               	.LM45:
 582 0246 FE01      		movw r30,r28
 583 0248 E054      		subi r30,lo8(-(448))
 584 024a FE4F      		sbci r31,hi8(-(448))
 585 024c B8C0      		rjmp .L75
 586               	.L36:
 397:nmeap01.c     ****             context->input_state = 0;
 398:nmeap01.c     ****             context->input_count = 0;
 399:nmeap01.c     ****         }
 400:nmeap01.c     ****         break;
 401:nmeap01.c     ****     /* LOOKING FOR CR OR CHECKSUM INDICATOR */
 402:nmeap01.c     ****     case 2:
 403:nmeap01.c     ****         if (ch == '*') {
 587               		.stabn	68,0,403,.LM46-nmeap_parse
 588               	.LM46:
 589 024e FAE2      		ldi r31,lo8(42)
 590 0250 DF16      		cp r13,r31
 591 0252 19F4      		brne .L49
 404:nmeap01.c     ****             /* this sentence has a checksum */
 405:nmeap01.c     ****             context->input_state = 3;
 592               		.stabn	68,0,405,.LM47-nmeap_parse
 593               	.LM47:
 594 0254 83E0      		ldi r24,lo8(3)
 595 0256 90E0      		ldi r25,hi8(3)
 596 0258 6AC0      		rjmp .L76
 597               	.L49:
 598 025a FE01      		movw r30,r28
 599 025c E358      		subi r30,lo8(-(381))
 600 025e FE4F      		sbci r31,hi8(-(381))
 406:nmeap01.c     ****         }
 407:nmeap01.c     ****         else if (ch == '\r') {
 601               		.stabn	68,0,407,.LM48-nmeap_parse
 602               	.LM48:
 603 0260 8DE0      		ldi r24,lo8(13)
 604 0262 D816      		cp r13,r24
 605 0264 29F4      		brne .L51
 408:nmeap01.c     ****             /* carriage return, no checksum, force a match */
 409:nmeap01.c     **** 			context->icks = 0;
 606               		.stabn	68,0,409,.LM49-nmeap_parse
 607               	.LM49:
 608 0266 C458      		subi r28,lo8(-(380))
 609 0268 DE4F      		sbci r29,hi8(-(380))
 610 026a 1882      		st Y,__zero_reg__
 410:nmeap01.c     **** 			context->ccks = 0;
 611               		.stabn	68,0,410,.LM50-nmeap_parse
 612               	.LM50:
 613 026c 1082      		st Z,__zero_reg__
 614 026e 5DC0      		rjmp .L77
 615               	.L51:
 411:nmeap01.c     ****             context->input_state = 6;
GAS LISTING /var/tmp//ccCs6Agq.s 			page 19


 412:nmeap01.c     ****         }
 413:nmeap01.c     ****         else {
 414:nmeap01.c     ****             /* continue accumulating data */
 415:nmeap01.c     ****             /* checksum */
 416:nmeap01.c     ****             context->ccks ^= ch;
 616               		.stabn	68,0,416,.LM51-nmeap_parse
 617               	.LM51:
 618 0270 8081      		ld r24,Z
 619 0272 8D25      		eor r24,r13
 620 0274 8083      		st Z,r24
 621 0276 C7C0      		rjmp .L74
 622               	.L37:
 417:nmeap01.c     ****         }
 418:nmeap01.c     ****         break;
 419:nmeap01.c     ****     /* LOOKING FOR FIRST CHECKSUM CHARACTER */
 420:nmeap01.c     ****     case 3:
 421:nmeap01.c     ****         /* must be upper case hex digit */
 422:nmeap01.c     ****         if (isxdigit(ch) && (ch <= 'F')) {
 623               		.stabn	68,0,422,.LM52-nmeap_parse
 624               	.LM52:
 625 0278 0D2D      		mov r16,r13
 626 027a 1127      		clr r17
 627 027c 07FD      		sbrc r16,7
 628 027e 1095      		com r17
 629 0280 C801      		movw r24,r16
 630 0282 0E94 0000 		call isxdigit
 631 0286 892B      		or r24,r25
 632 0288 B1F1      		breq .L59
 633 028a F6E4      		ldi r31,lo8(70)
 634 028c FD15      		cp r31,r13
 635 028e 9CF1      		brlt .L59
 423:nmeap01.c     ****             /* got first checksum byte */
 424:nmeap01.c     ****             context->input_state = 4;
 636               		.stabn	68,0,424,.LM53-nmeap_parse
 637               	.LM53:
 638 0290 84E0      		ldi r24,lo8(4)
 639 0292 90E0      		ldi r25,hi8(4)
 640 0294 F501      		movw r30,r10
 641 0296 9183      		std Z+1,r25
 642 0298 8083      		st Z,r24
 425:nmeap01.c     ****             context->icks = HEXTOBIN(ch) << 4;
 643               		.stabn	68,0,425,.LM54-nmeap_parse
 644               	.LM54:
 645 029a F9E3      		ldi r31,lo8(57)
 646 029c FD15      		cp r31,r13
 647 029e 14F4      		brge .L73
 648 02a0 0753      		subi r16,lo8(-(-55))
 649 02a2 1040      		sbci r17,hi8(-(-55))
 650               	.L73:
 651 02a4 802F      		mov r24,r16
 652 02a6 8295      		swap r24
 653 02a8 807F      		andi r24,0xf0
 654 02aa C458      		subi r28,lo8(-(380))
 655 02ac DE4F      		sbci r29,hi8(-(380))
 656 02ae 8883      		st Y,r24
 657 02b0 AAC0      		rjmp .L74
 658               	.L38:
GAS LISTING /var/tmp//ccCs6Agq.s 			page 20


 426:nmeap01.c     ****         }
 427:nmeap01.c     ****         else {
 428:nmeap01.c     ****             /* input error, restart */
 429:nmeap01.c     ****             context->err_cks++;
 430:nmeap01.c     ****             context->input_state = 0;
 431:nmeap01.c     ****             context->input_count = 0;
 432:nmeap01.c     ****         }
 433:nmeap01.c     ****         break;
 434:nmeap01.c     ****         /* LOOKING FOR SECOND CHECKSUM CHARACTER */
 435:nmeap01.c     ****     case 4:
 436:nmeap01.c     ****         /* must be upper case hex digit */
 437:nmeap01.c     ****         if (isxdigit(ch) && (ch <= 'F')) {
 659               		.stabn	68,0,437,.LM55-nmeap_parse
 660               	.LM55:
 661 02b2 8D2D      		mov r24,r13
 662 02b4 9927      		clr r25
 663 02b6 87FD      		sbrc r24,7
 664 02b8 9095      		com r25
 665 02ba 0E94 0000 		call isxdigit
 666 02be 892B      		or r24,r25
 667 02c0 D1F0      		breq .L59
 668 02c2 86E4      		ldi r24,lo8(70)
 669 02c4 8D15      		cp r24,r13
 670 02c6 BCF0      		brlt .L59
 438:nmeap01.c     ****             /* got second checksum byte */
 439:nmeap01.c     ****             context->input_state = 5;
 671               		.stabn	68,0,439,.LM56-nmeap_parse
 672               	.LM56:
 673 02c8 85E0      		ldi r24,lo8(5)
 674 02ca 90E0      		ldi r25,hi8(5)
 675 02cc F501      		movw r30,r10
 676 02ce 9183      		std Z+1,r25
 677 02d0 8083      		st Z,r24
 440:nmeap01.c     ****             context->icks += HEXTOBIN(ch);
 678               		.stabn	68,0,440,.LM57-nmeap_parse
 679               	.LM57:
 680 02d2 C458      		subi r28,lo8(-(380))
 681 02d4 DE4F      		sbci r29,hi8(-(380))
 682 02d6 2881      		ld r18,Y
 683 02d8 CC57      		subi r28,lo8(-(-380))
 684 02da D140      		sbci r29,hi8(-(-380))
 685 02dc F9E3      		ldi r31,lo8(57)
 686 02de FD15      		cp r31,r13
 687 02e0 1CF0      		brlt .L62
 688 02e2 6D2D      		mov r22,r13
 689 02e4 6053      		subi r22,lo8(-(-48))
 690 02e6 02C0      		rjmp .L64
 691               	.L62:
 692 02e8 6D2D      		mov r22,r13
 693 02ea 6753      		subi r22,lo8(-(-55))
 694               	.L64:
 695 02ec C458      		subi r28,lo8(-(380))
 696 02ee DE4F      		sbci r29,hi8(-(380))
 697 02f0 260F      		add r18,r22
 698 02f2 2883      		st Y,r18
 699 02f4 88C0      		rjmp .L74
 700               	.L59:
GAS LISTING /var/tmp//ccCs6Agq.s 			page 21


 441:nmeap01.c     ****         }
 442:nmeap01.c     ****         else {
 443:nmeap01.c     ****             /* input error, restart */
 444:nmeap01.c     ****             context->err_cks++;
 701               		.stabn	68,0,444,.LM58-nmeap_parse
 702               	.LM58:
 703 02f6 FE01      		movw r30,r28
 704 02f8 EC53      		subi r30,lo8(-(452))
 705 02fa FE4F      		sbci r31,hi8(-(452))
 706 02fc 8081      		ld r24,Z
 707 02fe 9181      		ldd r25,Z+1
 708 0300 A281      		ldd r26,Z+2
 709 0302 B381      		ldd r27,Z+3
 710 0304 0196      		adiw r24,1
 711 0306 A11D      		adc r26,__zero_reg__
 712 0308 B11D      		adc r27,__zero_reg__
 713 030a 8083      		st Z,r24
 714 030c 9183      		std Z+1,r25
 715 030e A283      		std Z+2,r26
 716 0310 B383      		std Z+3,r27
 445:nmeap01.c     ****             context->input_state = 0;
 717               		.stabn	68,0,445,.LM59-nmeap_parse
 718               	.LM59:
 719 0312 CC58      		subi r28,lo8(-(372))
 720 0314 DE4F      		sbci r29,hi8(-(372))
 721 0316 1982      		std Y+1,__zero_reg__
 722 0318 1882      		st Y,__zero_reg__
 446:nmeap01.c     ****             context->input_count = 0;
 723               		.stabn	68,0,446,.LM60-nmeap_parse
 724               	.LM60:
 725 031a FE01      		movw r30,r28
 726 031c 1292      		st -Z,__zero_reg__
 727 031e 1292      		st -Z,__zero_reg__
 728 0320 72C0      		rjmp .L74
 729               	.L39:
 447:nmeap01.c     ****         }
 448:nmeap01.c     ****         break;
 449:nmeap01.c     ****     /* LOOKING FOR CR */
 450:nmeap01.c     ****     case 5:
 451:nmeap01.c     ****         if (ch == '\r') {
 730               		.stabn	68,0,451,.LM61-nmeap_parse
 731               	.LM61:
 732 0322 8DE0      		ldi r24,lo8(13)
 733 0324 D816      		cp r13,r24
 734 0326 09F0      		breq .+2
 735 0328 47C0      		rjmp .L67
 736               	.L77:
 452:nmeap01.c     ****             /* carriage return */
 453:nmeap01.c     ****             context->input_state = 6;
 737               		.stabn	68,0,453,.LM62-nmeap_parse
 738               	.LM62:
 739 032a 86E0      		ldi r24,lo8(6)
 740 032c 90E0      		ldi r25,hi8(6)
 741               	.L76:
 742 032e F501      		movw r30,r10
 743 0330 9183      		std Z+1,r25
 744 0332 8083      		st Z,r24
GAS LISTING /var/tmp//ccCs6Agq.s 			page 22


 745 0334 68C0      		rjmp .L74
 746               	.L40:
 454:nmeap01.c     ****         }
 455:nmeap01.c     ****         else {
 456:nmeap01.c     ****             /* input error, restart */
 457:nmeap01.c     ****             context->err_crl++;
 458:nmeap01.c     ****             context->input_state = 0;
 459:nmeap01.c     ****             context->input_count = 0;
 460:nmeap01.c     ****         }
 461:nmeap01.c     ****         break;
 462:nmeap01.c     ****     /* LOOKING FOR LINE FEED */
 463:nmeap01.c     ****     case 6:
 464:nmeap01.c     ****         if (ch == '\n') {
 747               		.stabn	68,0,464,.LM63-nmeap_parse
 748               	.LM63:
 749 0336 FAE0      		ldi r31,lo8(10)
 750 0338 DF16      		cp r13,r31
 751 033a F1F5      		brne .L67
 465:nmeap01.c     ****             /* linefeed, line complete */
 466:nmeap01.c     ****             
 467:nmeap01.c     ****             /* delimit buffer */
 468:nmeap01.c     ****             context->input[context->input_count] = 0;
 752               		.stabn	68,0,468,.LM64-nmeap_parse
 753               	.LM64:
 754 033c EC0E      		add r14,r28
 755 033e FD1E      		adc r15,r29
 756 0340 82E7      		ldi r24,lo8(114)
 757 0342 90E0      		ldi r25,hi8(114)
 758 0344 E80E      		add r14,r24
 759 0346 F91E      		adc r15,r25
 760 0348 F701      		movw r30,r14
 761 034a 1082      		st Z,__zero_reg__
 469:nmeap01.c     ****             
 470:nmeap01.c     ****             /* if the checksums match, process the sentence */
 471:nmeap01.c     **** 			if (context->ccks == context->icks) {
 762               		.stabn	68,0,471,.LM65-nmeap_parse
 763               	.LM65:
 764 034c FE01      		movw r30,r28
 765 034e E358      		subi r30,lo8(-(381))
 766 0350 FE4F      		sbci r31,hi8(-(381))
 767 0352 C458      		subi r28,lo8(-(380))
 768 0354 DE4F      		sbci r29,hi8(-(380))
 769 0356 9081      		ld r25,Z
 770 0358 8881      		ld r24,Y
 771 035a CC57      		subi r28,lo8(-(-380))
 772 035c D140      		sbci r29,hi8(-(-380))
 773 035e 9817      		cp r25,r24
 774 0360 99F4      		brne .L69
 472:nmeap01.c     **** 				/* process */
 473:nmeap01.c     **** 				status = nmeap_process(context);
 775               		.stabn	68,0,473,.LM66-nmeap_parse
 776               	.LM66:
 777 0362 CE01      		movw r24,r28
 778 0364 0E94 0000 		call nmeap_process
 779 0368 9C01      		movw r18,r24
 474:nmeap01.c     **** 				
 475:nmeap01.c     **** 				/* count good messages */
GAS LISTING /var/tmp//ccCs6Agq.s 			page 23


 476:nmeap01.c     **** 				context->msgs++;
 780               		.stabn	68,0,476,.LM67-nmeap_parse
 781               	.LM67:
 782 036a FE01      		movw r30,r28
 783 036c E055      		subi r30,lo8(-(432))
 784 036e FE4F      		sbci r31,hi8(-(432))
 785 0370 8081      		ld r24,Z
 786 0372 9181      		ldd r25,Z+1
 787 0374 A281      		ldd r26,Z+2
 788 0376 B381      		ldd r27,Z+3
 789 0378 0196      		adiw r24,1
 790 037a A11D      		adc r26,__zero_reg__
 791 037c B11D      		adc r27,__zero_reg__
 792 037e 8083      		st Z,r24
 793 0380 9183      		std Z+1,r25
 794 0382 A283      		std Z+2,r26
 795 0384 B383      		std Z+3,r27
 796 0386 10C0      		rjmp .L71
 797               	.L69:
 477:nmeap01.c     **** 			}
 478:nmeap01.c     **** 			else {
 479:nmeap01.c     **** 				/* count checksum errors */
 480:nmeap01.c     **** 				context->err_cks++;
 798               		.stabn	68,0,480,.LM68-nmeap_parse
 799               	.LM68:
 800 0388 FE01      		movw r30,r28
 801 038a EC53      		subi r30,lo8(-(452))
 802 038c FE4F      		sbci r31,hi8(-(452))
 803 038e 8081      		ld r24,Z
 804 0390 9181      		ldd r25,Z+1
 805 0392 A281      		ldd r26,Z+2
 806 0394 B381      		ldd r27,Z+3
 807 0396 0196      		adiw r24,1
 808 0398 A11D      		adc r26,__zero_reg__
 809 039a B11D      		adc r27,__zero_reg__
 810 039c 8083      		st Z,r24
 811 039e 9183      		std Z+1,r25
 812 03a0 A283      		std Z+2,r26
 813 03a2 B383      		std Z+3,r27
 814 03a4 20E0      		ldi r18,lo8(0)
 815 03a6 30E0      		ldi r19,hi8(0)
 816               	.L71:
 481:nmeap01.c     **** 			}
 482:nmeap01.c     ****             
 483:nmeap01.c     ****             /* restart next time */
 484:nmeap01.c     ****             context->input_state = 0;
 817               		.stabn	68,0,484,.LM69-nmeap_parse
 818               	.LM69:
 819 03a8 CC58      		subi r28,lo8(-(372))
 820 03aa DE4F      		sbci r29,hi8(-(372))
 821 03ac 1982      		std Y+1,__zero_reg__
 822 03ae 1882      		st Y,__zero_reg__
 485:nmeap01.c     ****             context->input_count = 0;
 823               		.stabn	68,0,485,.LM70-nmeap_parse
 824               	.LM70:
 825 03b0 FE01      		movw r30,r28
 826 03b2 1292      		st -Z,__zero_reg__
GAS LISTING /var/tmp//ccCs6Agq.s 			page 24


 827 03b4 1292      		st -Z,__zero_reg__
 828 03b6 29C0      		rjmp .L44
 829               	.L67:
 486:nmeap01.c     ****         }
 487:nmeap01.c     ****         else {
 488:nmeap01.c     ****             /* input error, restart */
 489:nmeap01.c     ****             context->err_crl++;
 830               		.stabn	68,0,489,.LM71-nmeap_parse
 831               	.LM71:
 832 03b8 FE01      		movw r30,r28
 833 03ba E853      		subi r30,lo8(-(456))
 834 03bc FE4F      		sbci r31,hi8(-(456))
 835               	.L75:
 836 03be 8081      		ld r24,Z
 837 03c0 9181      		ldd r25,Z+1
 838 03c2 A281      		ldd r26,Z+2
 839 03c4 B381      		ldd r27,Z+3
 840 03c6 0196      		adiw r24,1
 841 03c8 A11D      		adc r26,__zero_reg__
 842 03ca B11D      		adc r27,__zero_reg__
 843 03cc 8083      		st Z,r24
 844 03ce 9183      		std Z+1,r25
 845 03d0 A283      		std Z+2,r26
 846 03d2 B383      		std Z+3,r27
 490:nmeap01.c     ****             context->input_state = 0;
 847               		.stabn	68,0,490,.LM72-nmeap_parse
 848               	.LM72:
 849 03d4 F501      		movw r30,r10
 850 03d6 1182      		std Z+1,__zero_reg__
 851 03d8 1082      		st Z,__zero_reg__
 491:nmeap01.c     ****             context->input_count = 0;
 852               		.stabn	68,0,491,.LM73-nmeap_parse
 853               	.LM73:
 854 03da F401      		movw r30,r8
 855 03dc 1182      		std Z+1,__zero_reg__
 856 03de 1082      		st Z,__zero_reg__
 857 03e0 12C0      		rjmp .L74
 858               	.L33:
 492:nmeap01.c     ****         }
 493:nmeap01.c     ****         break;
 494:nmeap01.c     ****     default:
 495:nmeap01.c     ****         context->err_unk++;
 859               		.stabn	68,0,495,.LM74-nmeap_parse
 860               	.LM74:
 861 03e2 FE01      		movw r30,r28
 862 03e4 E454      		subi r30,lo8(-(444))
 863 03e6 FE4F      		sbci r31,hi8(-(444))
 864 03e8 8081      		ld r24,Z
 865 03ea 9181      		ldd r25,Z+1
 866 03ec A281      		ldd r26,Z+2
 867 03ee B381      		ldd r27,Z+3
 868 03f0 0196      		adiw r24,1
 869 03f2 A11D      		adc r26,__zero_reg__
 870 03f4 B11D      		adc r27,__zero_reg__
 871 03f6 8083      		st Z,r24
 872 03f8 9183      		std Z+1,r25
 873 03fa A283      		std Z+2,r26
GAS LISTING /var/tmp//ccCs6Agq.s 			page 25


 874 03fc B383      		std Z+3,r27
 496:nmeap01.c     ****         context->input_state = 0;
 875               		.stabn	68,0,496,.LM75-nmeap_parse
 876               	.LM75:
 877 03fe CC58      		subi r28,lo8(-(372))
 878 0400 DE4F      		sbci r29,hi8(-(372))
 879 0402 1982      		std Y+1,__zero_reg__
 880 0404 1882      		st Y,__zero_reg__
 881               	.L74:
 882 0406 20E0      		ldi r18,lo8(0)
 883 0408 30E0      		ldi r19,hi8(0)
 884               	.L44:
 497:nmeap01.c     ****         break;
 498:nmeap01.c     ****     }
 499:nmeap01.c     ****             
 500:nmeap01.c     **** 	return status;
 501:nmeap01.c     **** }
 885               		.stabn	68,0,501,.LM76-nmeap_parse
 886               	.LM76:
 887 040a C901      		movw r24,r18
 888               	/* epilogue: frame size=0 */
 889 040c DF91      		pop r29
 890 040e CF91      		pop r28
 891 0410 1F91      		pop r17
 892 0412 0F91      		pop r16
 893 0414 FF90      		pop r15
 894 0416 EF90      		pop r14
 895 0418 DF90      		pop r13
 896 041a BF90      		pop r11
 897 041c AF90      		pop r10
 898 041e 9F90      		pop r9
 899 0420 8F90      		pop r8
 900 0422 0895      		ret
 901               	/* epilogue end (size=12) */
 902               	/* function nmeap_parse size 374 (351) */
 903               		.size	nmeap_parse, .-nmeap_parse
 904               		.stabs	"status:r(0,1)",64,0,344,18
 905               		.stabn	192,0,0,nmeap_parse-nmeap_parse
 906               		.stabn	224,0,0,.Lscope3-nmeap_parse
 907               	.Lscope3:
 908               		.stabs	"",36,0,0,.Lscope3-nmeap_parse
 909               		.stabd	78,0,0
 910               		.stabs	"nmeap_parseBuffer:F(0,1)",36,0,507,nmeap_parseBuffer
 911               		.stabs	"context:P(0,18)",64,0,506,8
 912               		.stabs	"buffer:P(0,16)",64,0,506,22
 913               		.stabs	"length:P(0,19)=*(0,1)",64,0,506,12
 914               	.global	nmeap_parseBuffer
 915               		.type	nmeap_parseBuffer, @function
 916               	nmeap_parseBuffer:
 917               		.stabd	46,0,0
 502:nmeap01.c     **** 
 503:nmeap01.c     **** /** 
 504:nmeap01.c     ****  * parse a buffer of nmea data
 505:nmeap01.c     ****  */
 506:nmeap01.c     **** int nmeap_parseBuffer(nmeap_context_t *context,const char *buffer,int *length)
 507:nmeap01.c     **** {
 918               		.stabn	68,0,507,.LM77-nmeap_parseBuffer
GAS LISTING /var/tmp//ccCs6Agq.s 			page 26


 919               	.LM77:
 920               	/* prologue: frame size=0 */
 921 0424 8F92      		push r8
 922 0426 9F92      		push r9
 923 0428 AF92      		push r10
 924 042a BF92      		push r11
 925 042c CF92      		push r12
 926 042e DF92      		push r13
 927 0430 EF92      		push r14
 928 0432 FF92      		push r15
 929 0434 0F93      		push r16
 930 0436 1F93      		push r17
 931 0438 CF93      		push r28
 932 043a DF93      		push r29
 933               	/* prologue end (size=12) */
 934 043c 4C01      		movw r8,r24
 935 043e 6A01      		movw r12,r20
 508:nmeap01.c     ****     int  i;
 509:nmeap01.c     ****     int  status;
 510:nmeap01.c     ****     int  rem;
 511:nmeap01.c     ****     int  tlen;
 512:nmeap01.c     ****     
 513:nmeap01.c     ****     tlen   = *length;
 936               		.stabn	68,0,513,.LM78-nmeap_parseBuffer
 937               	.LM78:
 938 0440 FA01      		movw r30,r20
 939 0442 0081      		ld r16,Z
 940 0444 1181      		ldd r17,Z+1
 941 0446 5801      		movw r10,r16
 942 0448 EE24      		clr r14
 943 044a FF24      		clr r15
 944 044c EB01      		movw r28,r22
 945 044e 0CC0      		rjmp .L79
 946               	.L80:
 514:nmeap01.c     ****     rem    = *length;
 515:nmeap01.c     ****     status = 0;
 516:nmeap01.c     ****     /* for each byte in the buffer */
 517:nmeap01.c     ****     for(i=0;i<tlen;i++) {
 518:nmeap01.c     ****         /* decrement remaining byte count */
 519:nmeap01.c     ****         rem--;
 947               		.stabn	68,0,519,.LM79-nmeap_parseBuffer
 948               	.LM79:
 949 0450 0150      		subi r16,lo8(-(-1))
 950 0452 1040      		sbci r17,hi8(-(-1))
 520:nmeap01.c     ****         /* parse the byte */
 521:nmeap01.c     ****         status = nmeap_parse(context,buffer[i]);
 951               		.stabn	68,0,521,.LM80-nmeap_parseBuffer
 952               	.LM80:
 953 0454 6881      		ld r22,Y
 954 0456 C401      		movw r24,r8
 955 0458 0E94 0000 		call nmeap_parse
 522:nmeap01.c     ****         if (status != 0) {
 956               		.stabn	68,0,522,.LM81-nmeap_parseBuffer
 957               	.LM81:
 958 045c 0097      		sbiw r24,0
 959 045e 49F4      		brne .L81
 960               		.stabn	68,0,517,.LM82-nmeap_parseBuffer
GAS LISTING /var/tmp//ccCs6Agq.s 			page 27


 961               	.LM82:
 962 0460 0894      		sec
 963 0462 E11C      		adc r14,__zero_reg__
 964 0464 F11C      		adc r15,__zero_reg__
 965 0466 2196      		adiw r28,1
 966               	.L79:
 967 0468 EA14      		cp r14,r10
 968 046a FB04      		cpc r15,r11
 969 046c 8CF3      		brlt .L80
 970 046e 80E0      		ldi r24,lo8(0)
 971 0470 90E0      		ldi r25,hi8(0)
 972               	.L81:
 523:nmeap01.c     ****             /* message found or error */
 524:nmeap01.c     ****             break;
 525:nmeap01.c     ****         }
 526:nmeap01.c     ****     }
 527:nmeap01.c     **** 	
 528:nmeap01.c     ****     /* return remaining byte count */
 529:nmeap01.c     ****     *length = rem;
 973               		.stabn	68,0,529,.LM83-nmeap_parseBuffer
 974               	.LM83:
 975 0472 F601      		movw r30,r12
 976 0474 1183      		std Z+1,r17
 977 0476 0083      		st Z,r16
 978               	/* epilogue: frame size=0 */
 979 0478 DF91      		pop r29
 980 047a CF91      		pop r28
 981 047c 1F91      		pop r17
 982 047e 0F91      		pop r16
 983 0480 FF90      		pop r15
 984 0482 EF90      		pop r14
 985 0484 DF90      		pop r13
 986 0486 CF90      		pop r12
 987 0488 BF90      		pop r11
 988 048a AF90      		pop r10
 989 048c 9F90      		pop r9
 990 048e 8F90      		pop r8
 991 0490 0895      		ret
 992               	/* epilogue end (size=13) */
 993               	/* function nmeap_parseBuffer size 55 (30) */
 994               		.size	nmeap_parseBuffer, .-nmeap_parseBuffer
 995               		.stabs	"i:r(0,1)",64,0,508,14
 996               		.stabs	"status:r(0,1)",64,0,509,24
 997               		.stabs	"rem:r(0,1)",64,0,510,16
 998               		.stabs	"tlen:r(0,1)",64,0,511,10
 999               		.stabn	192,0,0,nmeap_parseBuffer-nmeap_parseBuffer
 1000               		.stabn	224,0,0,.Lscope4-nmeap_parseBuffer
 1001               	.Lscope4:
 1002               		.stabs	"",36,0,0,.Lscope4-nmeap_parseBuffer
 1003               		.stabd	78,0,0
 1004               		.stabs	"nmeap_latitude:F(0,13)",36,0,59,nmeap_latitude
 1005               		.stabs	"plat:P(0,16)",64,0,58,30
 1006               		.stabs	"phem:P(0,16)",64,0,58,26
 1007               	.global	nmeap_latitude
 1008               		.type	nmeap_latitude, @function
 1009               	nmeap_latitude:
 1010               		.stabd	46,0,0
GAS LISTING /var/tmp//ccCs6Agq.s 			page 28


 1011               		.stabn	68,0,59,.LM84-nmeap_latitude
 1012               	.LM84:
 1013               	/* prologue: frame size=0 */
 1014 0492 AF92      		push r10
 1015 0494 BF92      		push r11
 1016 0496 CF92      		push r12
 1017 0498 DF92      		push r13
 1018 049a EF92      		push r14
 1019 049c FF92      		push r15
 1020 049e 0F93      		push r16
 1021 04a0 1F93      		push r17
 1022 04a2 CF93      		push r28
 1023 04a4 DF93      		push r29
 1024               	/* prologue end (size=10) */
 1025 04a6 FC01      		movw r30,r24
 1026 04a8 DB01      		movw r26,r22
 1027               		.stabn	68,0,65,.LM85-nmeap_latitude
 1028               	.LM85:
 1029 04aa 892B      		or r24,r25
 1030 04ac 09F4      		brne .L86
 1031               	.L99:
 1032 04ae FFCF      		rjmp .L99
 1033               	.L86:
 1034               		.stabn	68,0,66,.LM86-nmeap_latitude
 1035               	.LM86:
 1036 04b0 672B      		or r22,r23
 1037 04b2 09F4      		brne .L88
 1038               	.L100:
 1039 04b4 FFCF      		rjmp .L100
 1040               	.L88:
 1041               		.stabn	68,0,68,.LM87-nmeap_latitude
 1042               	.LM87:
 1043 04b6 8081      		ld r24,Z
 1044 04b8 8823      		tst r24
 1045 04ba 19F0      		breq .L101
 1046               		.stabn	68,0,71,.LM88-nmeap_latitude
 1047               	.LM88:
 1048 04bc 6C91      		ld r22,X
 1049 04be 6623      		tst r22
 1050 04c0 29F4      		brne .L93
 1051               	.L101:
 1052 04c2 60E0      		ldi r22,lo8(0x0)
 1053 04c4 70E0      		ldi r23,hi8(0x0)
 1054 04c6 80E0      		ldi r24,hlo8(0x0)
 1055 04c8 90E0      		ldi r25,hhi8(0x0)
 1056 04ca 43C0      		rjmp .L92
 1057               	.L93:
 1058               		.stabn	68,0,76,.LM89-nmeap_latitude
 1059               	.LM89:
 1060 04cc 6E34      		cpi r22,lo8(78)
 1061 04ce 19F4      		brne .L95
 1062 04d0 C1E0      		ldi r28,lo8(1)
 1063 04d2 D0E0      		ldi r29,hi8(1)
 1064 04d4 02C0      		rjmp .L97
 1065               	.L95:
 1066 04d6 CFEF      		ldi r28,lo8(-1)
 1067 04d8 DFEF      		ldi r29,hi8(-1)
GAS LISTING /var/tmp//ccCs6Agq.s 			page 29


 1068               	.L97:
 1069               		.stabn	68,0,86,.LM90-nmeap_latitude
 1070               	.LM90:
 1071 04da CF01      		movw r24,r30
 1072 04dc 0E94 0000 		call atof
 1073 04e0 5B01      		movw r10,r22
 1074 04e2 6C01      		movw r12,r24
 1075               		.stabn	68,0,92,.LM91-nmeap_latitude
 1076               	.LM91:
 1077 04e4 20E0      		ldi r18,lo8(0x42c80000)
 1078 04e6 30E0      		ldi r19,hi8(0x42c80000)
 1079 04e8 48EC      		ldi r20,hlo8(0x42c80000)
 1080 04ea 52E4      		ldi r21,hhi8(0x42c80000)
 1081 04ec 0E94 0000 		call __divsf3
 1082 04f0 0E94 0000 		call __fixsfsi
 1083 04f4 8827      		clr r24
 1084 04f6 77FD      		sbrc r23,7
 1085 04f8 8095      		com r24
 1086 04fa 982F      		mov r25,r24
 1087 04fc 0E94 0000 		call __floatsisf
 1088 0500 7B01      		movw r14,r22
 1089 0502 8C01      		movw r16,r24
 1090               		.stabn	68,0,95,.LM92-nmeap_latitude
 1091               	.LM92:
 1092 0504 20E0      		ldi r18,lo8(0xc2c80000)
 1093 0506 30E0      		ldi r19,hi8(0xc2c80000)
 1094 0508 48EC      		ldi r20,hlo8(0xc2c80000)
 1095 050a 52EC      		ldi r21,hhi8(0xc2c80000)
 1096 050c 0E94 0000 		call __mulsf3
 1097 0510 9B01      		movw r18,r22
 1098 0512 AC01      		movw r20,r24
 1099 0514 C601      		movw r24,r12
 1100 0516 B501      		movw r22,r10
 1101 0518 0E94 0000 		call __addsf3
 1102 051c 20E0      		ldi r18,lo8(0x42700000)
 1103 051e 30E0      		ldi r19,hi8(0x42700000)
 1104 0520 40E7      		ldi r20,hlo8(0x42700000)
 1105 0522 52E4      		ldi r21,hhi8(0x42700000)
 1106 0524 0E94 0000 		call __divsf3
 1107 0528 9B01      		movw r18,r22
 1108 052a AC01      		movw r20,r24
 1109 052c C801      		movw r24,r16
 1110 052e B701      		movw r22,r14
 1111 0530 0E94 0000 		call __addsf3
 1112 0534 7B01      		movw r14,r22
 1113 0536 8C01      		movw r16,r24
 1114 0538 BE01      		movw r22,r28
 1115 053a 8827      		clr r24
 1116 053c 77FD      		sbrc r23,7
 1117 053e 8095      		com r24
 1118 0540 982F      		mov r25,r24
 1119 0542 0E94 0000 		call __floatsisf
 1120 0546 9B01      		movw r18,r22
 1121 0548 AC01      		movw r20,r24
 1122 054a C801      		movw r24,r16
 1123 054c B701      		movw r22,r14
 1124 054e 0E94 0000 		call __mulsf3
GAS LISTING /var/tmp//ccCs6Agq.s 			page 30


 1125               	.L92:
 1126               	/* epilogue: frame size=0 */
 1127 0552 DF91      		pop r29
 1128 0554 CF91      		pop r28
 1129 0556 1F91      		pop r17
 1130 0558 0F91      		pop r16
 1131 055a FF90      		pop r15
 1132 055c EF90      		pop r14
 1133 055e DF90      		pop r13
 1134 0560 CF90      		pop r12
 1135 0562 BF90      		pop r11
 1136 0564 AF90      		pop r10
 1137 0566 0895      		ret
 1138               	/* epilogue end (size=11) */
 1139               	/* function nmeap_latitude size 107 (86) */
 1140               		.size	nmeap_latitude, .-nmeap_latitude
 1141               		.stabs	"lat:r(0,13)",64,0,60,22
 1142               		.stabs	"ns:r(0,1)",64,0,63,28
 1143               		.stabn	192,0,0,nmeap_latitude-nmeap_latitude
 1144               		.stabn	224,0,0,.Lscope5-nmeap_latitude
 1145               	.Lscope5:
 1146               		.stabs	"",36,0,0,.Lscope5-nmeap_latitude
 1147               		.stabd	78,0,0
 1148               		.stabs	"nmeap_longitude:F(0,13)",36,0,106,nmeap_longitude
 1149               		.stabs	"plon:P(0,16)",64,0,105,30
 1150               		.stabs	"phem:P(0,16)",64,0,105,26
 1151               	.global	nmeap_longitude
 1152               		.type	nmeap_longitude, @function
 1153               	nmeap_longitude:
 1154               		.stabd	46,0,0
 1155               		.stabn	68,0,106,.LM93-nmeap_longitude
 1156               	.LM93:
 1157               	/* prologue: frame size=0 */
 1158 0568 AF92      		push r10
 1159 056a BF92      		push r11
 1160 056c CF92      		push r12
 1161 056e DF92      		push r13
 1162 0570 EF92      		push r14
 1163 0572 FF92      		push r15
 1164 0574 0F93      		push r16
 1165 0576 1F93      		push r17
 1166 0578 CF93      		push r28
 1167 057a DF93      		push r29
 1168               	/* prologue end (size=10) */
 1169 057c FC01      		movw r30,r24
 1170 057e DB01      		movw r26,r22
 1171               		.stabn	68,0,112,.LM94-nmeap_longitude
 1172               	.LM94:
 1173 0580 892B      		or r24,r25
 1174 0582 09F4      		brne .L103
 1175               	.L116:
 1176 0584 FFCF      		rjmp .L116
 1177               	.L103:
 1178               		.stabn	68,0,113,.LM95-nmeap_longitude
 1179               	.LM95:
 1180 0586 672B      		or r22,r23
 1181 0588 09F4      		brne .L105
GAS LISTING /var/tmp//ccCs6Agq.s 			page 31


 1182               	.L117:
 1183 058a FFCF      		rjmp .L117
 1184               	.L105:
 1185               		.stabn	68,0,115,.LM96-nmeap_longitude
 1186               	.LM96:
 1187 058c 8081      		ld r24,Z
 1188 058e 8823      		tst r24
 1189 0590 19F0      		breq .L118
 1190               		.stabn	68,0,118,.LM97-nmeap_longitude
 1191               	.LM97:
 1192 0592 6C91      		ld r22,X
 1193 0594 6623      		tst r22
 1194 0596 29F4      		brne .L110
 1195               	.L118:
 1196 0598 60E0      		ldi r22,lo8(0x0)
 1197 059a 70E0      		ldi r23,hi8(0x0)
 1198 059c 80E0      		ldi r24,hlo8(0x0)
 1199 059e 90E0      		ldi r25,hhi8(0x0)
 1200 05a0 43C0      		rjmp .L109
 1201               	.L110:
 1202               		.stabn	68,0,123,.LM98-nmeap_longitude
 1203               	.LM98:
 1204 05a2 6534      		cpi r22,lo8(69)
 1205 05a4 19F4      		brne .L112
 1206 05a6 C1E0      		ldi r28,lo8(1)
 1207 05a8 D0E0      		ldi r29,hi8(1)
 1208 05aa 02C0      		rjmp .L114
 1209               	.L112:
 1210 05ac CFEF      		ldi r28,lo8(-1)
 1211 05ae DFEF      		ldi r29,hi8(-1)
 1212               	.L114:
 1213               		.stabn	68,0,133,.LM99-nmeap_longitude
 1214               	.LM99:
 1215 05b0 CF01      		movw r24,r30
 1216 05b2 0E94 0000 		call atof
 1217 05b6 5B01      		movw r10,r22
 1218 05b8 6C01      		movw r12,r24
 1219               		.stabn	68,0,139,.LM100-nmeap_longitude
 1220               	.LM100:
 1221 05ba 20E0      		ldi r18,lo8(0x42c80000)
 1222 05bc 30E0      		ldi r19,hi8(0x42c80000)
 1223 05be 48EC      		ldi r20,hlo8(0x42c80000)
 1224 05c0 52E4      		ldi r21,hhi8(0x42c80000)
 1225 05c2 0E94 0000 		call __divsf3
 1226 05c6 0E94 0000 		call __fixsfsi
 1227 05ca 8827      		clr r24
 1228 05cc 77FD      		sbrc r23,7
 1229 05ce 8095      		com r24
 1230 05d0 982F      		mov r25,r24
 1231 05d2 0E94 0000 		call __floatsisf
 1232 05d6 7B01      		movw r14,r22
 1233 05d8 8C01      		movw r16,r24
 1234               		.stabn	68,0,142,.LM101-nmeap_longitude
 1235               	.LM101:
 1236 05da 20E0      		ldi r18,lo8(0xc2c80000)
 1237 05dc 30E0      		ldi r19,hi8(0xc2c80000)
 1238 05de 48EC      		ldi r20,hlo8(0xc2c80000)
GAS LISTING /var/tmp//ccCs6Agq.s 			page 32


 1239 05e0 52EC      		ldi r21,hhi8(0xc2c80000)
 1240 05e2 0E94 0000 		call __mulsf3
 1241 05e6 9B01      		movw r18,r22
 1242 05e8 AC01      		movw r20,r24
 1243 05ea C601      		movw r24,r12
 1244 05ec B501      		movw r22,r10
 1245 05ee 0E94 0000 		call __addsf3
 1246 05f2 20E0      		ldi r18,lo8(0x42700000)
 1247 05f4 30E0      		ldi r19,hi8(0x42700000)
 1248 05f6 40E7      		ldi r20,hlo8(0x42700000)
 1249 05f8 52E4      		ldi r21,hhi8(0x42700000)
 1250 05fa 0E94 0000 		call __divsf3
 1251 05fe 9B01      		movw r18,r22
 1252 0600 AC01      		movw r20,r24
 1253 0602 C801      		movw r24,r16
 1254 0604 B701      		movw r22,r14
 1255 0606 0E94 0000 		call __addsf3
 1256 060a 7B01      		movw r14,r22
 1257 060c 8C01      		movw r16,r24
 1258 060e BE01      		movw r22,r28
 1259 0610 8827      		clr r24
 1260 0612 77FD      		sbrc r23,7
 1261 0614 8095      		com r24
 1262 0616 982F      		mov r25,r24
 1263 0618 0E94 0000 		call __floatsisf
 1264 061c 9B01      		movw r18,r22
 1265 061e AC01      		movw r20,r24
 1266 0620 C801      		movw r24,r16
 1267 0622 B701      		movw r22,r14
 1268 0624 0E94 0000 		call __mulsf3
 1269               	.L109:
 1270               	/* epilogue: frame size=0 */
 1271 0628 DF91      		pop r29
 1272 062a CF91      		pop r28
 1273 062c 1F91      		pop r17
 1274 062e 0F91      		pop r16
 1275 0630 FF90      		pop r15
 1276 0632 EF90      		pop r14
 1277 0634 DF90      		pop r13
 1278 0636 CF90      		pop r12
 1279 0638 BF90      		pop r11
 1280 063a AF90      		pop r10
 1281 063c 0895      		ret
 1282               	/* epilogue end (size=11) */
 1283               	/* function nmeap_longitude size 107 (86) */
 1284               		.size	nmeap_longitude, .-nmeap_longitude
 1285               		.stabs	"lon:r(0,13)",64,0,107,22
 1286               		.stabs	"ew:r(0,1)",64,0,110,28
 1287               		.stabn	192,0,0,nmeap_longitude-nmeap_longitude
 1288               		.stabn	224,0,0,.Lscope6-nmeap_longitude
 1289               	.Lscope6:
 1290               		.stabs	"",36,0,0,.Lscope6-nmeap_longitude
 1291               		.stabd	78,0,0
 1292               		.data
 1293               	.LC0:
 1294 0000 2573 00   		.string	"%s"
 1295               	.LC1:
GAS LISTING /var/tmp//ccCs6Agq.s 			page 33


 1296 0003 2573 3D3D 		.string	"%s==%s %02x==%02x\n"
 1296      2573 2025 
 1296      3032 783D 
 1296      3D25 3032 
 1296      780A 00
 1297               	.LC2:
 1298 0016 2564 3A25 		.string	"%d:%s\n"
 1298      730A 00
 1299               		.text
 1300               		.stabs	"nmeap_gprmc:F(0,1)",36,0,583,nmeap_gprmc
 1301               		.stabs	"context:P(0,18)",64,0,582,28
 1302               		.stabs	"sentence:P(0,20)=*(10,4)",64,0,582,10
 1303               	.global	nmeap_gprmc
 1304               		.type	nmeap_gprmc, @function
 1305               	nmeap_gprmc:
 1306               		.stabd	46,0,0
 530:nmeap01.c     **** 	
 531:nmeap01.c     ****     return status;
 532:nmeap01.c     **** }
 533:nmeap01.c     **** 
 534:nmeap01.c     **** /** 
 535:nmeap01.c     ****  * standard GPGGA sentence parser 
 536:nmeap01.c     ****  */
 537:nmeap01.c     **** int nmeap_gpgga(nmeap_context_t *context,nmeap_sentence_t *sentence)
 538:nmeap01.c     **** {
 539:nmeap01.c     **** #ifndef NDEBUG	
 540:nmeap01.c     ****     int i;
 541:nmeap01.c     **** #endif
 542:nmeap01.c     ****     
 543:nmeap01.c     ****     /* get pointer to sentence data */
 544:nmeap01.c     ****     nmeap_gga_t *gga = (nmeap_gga_t *)sentence->data;
 545:nmeap01.c     ****     
 546:nmeap01.c     ****     /* if there is a data element, extract data from the tokens */
 547:nmeap01.c     **** 	if (gga != 0) {
 548:nmeap01.c     **** 		gga->latitude  = nmeap_latitude(context->token[2],context->token[3]);
 549:nmeap01.c     **** 		gga->longitude = nmeap_longitude(context->token[4],context->token[5]);
 550:nmeap01.c     **** 		gga->altitude  = nmeap_altitude(context->token[9],context->token[10]);
 551:nmeap01.c     **** 		gga->time       = atol(context->token[1]);
 552:nmeap01.c     **** 		gga->satellites = atoi(context->token[7]);
 553:nmeap01.c     **** 		gga->quality    = atoi(context->token[6]);
 554:nmeap01.c     **** 		gga->hdop       = atof(context->token[8]);
 555:nmeap01.c     **** 		gga->geoid      = nmeap_altitude(context->token[11],context->token[12]);
 556:nmeap01.c     **** 	}
 557:nmeap01.c     **** 
 558:nmeap01.c     **** #ifndef NDEBUG    
 559:nmeap01.c     ****     /* print raw input string */
 560:nmeap01.c     ****     printf("%s",context->debug_input);
 561:nmeap01.c     ****     
 562:nmeap01.c     ****     /* print some validation data */
 563:nmeap01.c     ****     printf("%s==%s %02x==%02x\n",context->input_name,sentence->name,context->icks,context->ccks);
 564:nmeap01.c     ****     
 565:nmeap01.c     ****     /* print the tokens */
 566:nmeap01.c     ****     for(i=0;i<context->tokens;i++) {
 567:nmeap01.c     ****         printf("%d:%s\n",i,context->token[i]);
 568:nmeap01.c     ****     }
 569:nmeap01.c     **** #endif   
 570:nmeap01.c     **** 
GAS LISTING /var/tmp//ccCs6Agq.s 			page 34


 571:nmeap01.c     ****     /* if the sentence has a callout, call it */
 572:nmeap01.c     ****     if (sentence->callout != 0) {
 573:nmeap01.c     ****         (*sentence->callout)(context,gga,context->user_data);
 574:nmeap01.c     ****     }
 575:nmeap01.c     ****     
 576:nmeap01.c     ****     return NMEAP_GPGGA;
 577:nmeap01.c     **** }
 578:nmeap01.c     **** 
 579:nmeap01.c     **** /** 
 580:nmeap01.c     ****  * standard GPRMCntence parser 
 581:nmeap01.c     ****  */
 582:nmeap01.c     **** int nmeap_gprmc(nmeap_context_t *context,nmeap_sentence_t *sentence)
 583:nmeap01.c     **** {
 1307               		.stabn	68,0,583,.LM102-nmeap_gprmc
 1308               	.LM102:
 1309               	/* prologue: frame size=0 */
 1310 063e AF92      		push r10
 1311 0640 BF92      		push r11
 1312 0642 CF92      		push r12
 1313 0644 DF92      		push r13
 1314 0646 EF92      		push r14
 1315 0648 FF92      		push r15
 1316 064a 0F93      		push r16
 1317 064c 1F93      		push r17
 1318 064e CF93      		push r28
 1319 0650 DF93      		push r29
 1320               	/* prologue end (size=10) */
 1321 0652 EC01      		movw r28,r24
 1322 0654 5B01      		movw r10,r22
 584:nmeap01.c     **** #ifndef NDEBUG	
 585:nmeap01.c     ****     int i;
 586:nmeap01.c     **** #endif
 587:nmeap01.c     **** 
 588:nmeap01.c     ****     /* get pointer to sentence data */
 589:nmeap01.c     ****     nmeap_rmc_t *rmc = (nmeap_rmc_t *)sentence->data;
 1323               		.stabn	68,0,589,.LM103-nmeap_gprmc
 1324               	.LM103:
 1325 0656 FB01      		movw r30,r22
 1326 0658 0485      		ldd r16,Z+12
 1327 065a 1585      		ldd r17,Z+13
 590:nmeap01.c     ****     
 591:nmeap01.c     **** 	/* if there is a data element, use it */
 592:nmeap01.c     **** 	if (rmc != 0) {
 1328               		.stabn	68,0,592,.LM104-nmeap_gprmc
 1329               	.LM104:
 1330 065c 0115      		cp r16,__zero_reg__
 1331 065e 1105      		cpc r17,__zero_reg__
 1332 0660 09F4      		brne .+2
 1333 0662 52C0      		rjmp .L120
 593:nmeap01.c     **** 		/* extract data from the tokens */
 594:nmeap01.c     **** 		rmc->time       = strcpy(timebuffer,context->token[1]);
 1334               		.stabn	68,0,594,.LM105-nmeap_gprmc
 1335               	.LM105:
 1336 0664 C058      		subi r28,lo8(-(384))
 1337 0666 DE4F      		sbci r29,hi8(-(384))
 1338 0668 6991      		ld r22,Y+
 1339 066a 7991      		ld r23,Y+
GAS LISTING /var/tmp//ccCs6Agq.s 			page 35


 1340 066c 80E0      		ldi r24,lo8(timebuffer)
 1341 066e 90E0      		ldi r25,hi8(timebuffer)
 1342 0670 0E94 0000 		call strcpy
 1343 0674 D801      		movw r26,r16
 1344 0676 8D93      		st X+,r24
 1345 0678 9C93      		st X,r25
 595:nmeap01.c     **** 		rmc->warn       = *context->token[2];
 1346               		.stabn	68,0,595,.LM106-nmeap_gprmc
 1347               	.LM106:
 1348 067a E881      		ld r30,Y
 1349 067c F981      		ldd r31,Y+1
 1350 067e 8081      		ld r24,Z
 1351 0680 F801      		movw r30,r16
 1352 0682 8283      		std Z+2,r24
 596:nmeap01.c     **** 		rmc->latitude  = nmeap_latitude(context->token[3],context->token[4]);
 1353               		.stabn	68,0,596,.LM107-nmeap_gprmc
 1354               	.LM107:
 1355 0684 2496      		adiw r28,4
 1356 0686 6881      		ld r22,Y
 1357 0688 7981      		ldd r23,Y+1
 1358 068a 9A91      		ld r25,-Y
 1359 068c 8A91      		ld r24,-Y
 1360 068e 0E94 0000 		call nmeap_latitude
 1361 0692 F801      		movw r30,r16
 1362 0694 6383      		std Z+3,r22
 1363 0696 7483      		std Z+4,r23
 1364 0698 8583      		std Z+5,r24
 1365 069a 9683      		std Z+6,r25
 597:nmeap01.c     **** 		rmc->longitude = nmeap_longitude(context->token[5],context->token[6]);
 1366               		.stabn	68,0,597,.LM108-nmeap_gprmc
 1367               	.LM108:
 1368 069c 2696      		adiw r28,6
 1369 069e 6881      		ld r22,Y
 1370 06a0 7981      		ldd r23,Y+1
 1371 06a2 9A91      		ld r25,-Y
 1372 06a4 8A91      		ld r24,-Y
 1373 06a6 0E94 0000 		call nmeap_longitude
 1374 06aa F801      		movw r30,r16
 1375 06ac 6783      		std Z+7,r22
 1376 06ae 7087      		std Z+8,r23
 1377 06b0 8187      		std Z+9,r24
 1378 06b2 9287      		std Z+10,r25
 598:nmeap01.c     **** 		rmc->speed      = atof(context->token[7]);
 1379               		.stabn	68,0,598,.LM109-nmeap_gprmc
 1380               	.LM109:
 1381 06b4 2496      		adiw r28,4
 1382 06b6 8991      		ld r24,Y+
 1383 06b8 9991      		ld r25,Y+
 1384 06ba 0E94 0000 		call atof
 1385 06be F801      		movw r30,r16
 1386 06c0 6387      		std Z+11,r22
 1387 06c2 7487      		std Z+12,r23
 1388 06c4 8587      		std Z+13,r24
 1389 06c6 9687      		std Z+14,r25
 599:nmeap01.c     **** 		rmc->course     = atof(context->token[8]);
 1390               		.stabn	68,0,599,.LM110-nmeap_gprmc
 1391               	.LM110:
GAS LISTING /var/tmp//ccCs6Agq.s 			page 36


 1392 06c8 8991      		ld r24,Y+
 1393 06ca 9991      		ld r25,Y+
 1394 06cc 0E94 0000 		call atof
 1395 06d0 F801      		movw r30,r16
 1396 06d2 6787      		std Z+15,r22
 1397 06d4 708B      		std Z+16,r23
 1398 06d6 818B      		std Z+17,r24
 1399 06d8 928B      		std Z+18,r25
 600:nmeap01.c     **** 		rmc->date       = strcpy(datebuffer,context->token[9]);
 1400               		.stabn	68,0,600,.LM111-nmeap_gprmc
 1401               	.LM111:
 1402 06da 6881      		ld r22,Y
 1403 06dc 7981      		ldd r23,Y+1
 1404 06de C059      		subi r28,lo8(-(-400))
 1405 06e0 D140      		sbci r29,hi8(-(-400))
 1406 06e2 80E0      		ldi r24,lo8(datebuffer)
 1407 06e4 90E0      		ldi r25,hi8(datebuffer)
 1408 06e6 0E94 0000 		call strcpy
 1409 06ea F801      		movw r30,r16
 1410 06ec 948B      		std Z+20,r25
 1411 06ee 838B      		std Z+19,r24
 601:nmeap01.c     **** 		rmc->magvar     = atof(context->token[10]);
 1412               		.stabn	68,0,601,.LM112-nmeap_gprmc
 1413               	.LM112:
 1414 06f0 FE01      		movw r30,r28
 1415 06f2 EE56      		subi r30,lo8(-(402))
 1416 06f4 FE4F      		sbci r31,hi8(-(402))
 1417 06f6 8081      		ld r24,Z
 1418 06f8 9181      		ldd r25,Z+1
 1419 06fa 0E94 0000 		call atof
 1420 06fe F801      		movw r30,r16
 1421 0700 658B      		std Z+21,r22
 1422 0702 768B      		std Z+22,r23
 1423 0704 878B      		std Z+23,r24
 1424 0706 908F      		std Z+24,r25
 1425               	.L120:
 602:nmeap01.c     **** 	}
 603:nmeap01.c     **** 	
 604:nmeap01.c     **** 	rmc->date[6]='\0';
 1426               		.stabn	68,0,604,.LM113-nmeap_gprmc
 1427               	.LM113:
 1428 0708 F801      		movw r30,r16
 1429 070a A389      		ldd r26,Z+19
 1430 070c B489      		ldd r27,Z+20
 1431 070e FD01      		movw r30,r26
 1432 0710 1682      		std Z+6,__zero_reg__
 605:nmeap01.c     **** 	rmc->time[6]='\0';
 1433               		.stabn	68,0,605,.LM114-nmeap_gprmc
 1434               	.LM114:
 1435 0712 D801      		movw r26,r16
 1436 0714 ED91      		ld r30,X+
 1437 0716 FC91      		ld r31,X
 1438 0718 1682      		std Z+6,__zero_reg__
 606:nmeap01.c     **** #ifndef NDEBUG    
 607:nmeap01.c     **** 	
 608:nmeap01.c     ****     /* print raw input string */
 609:nmeap01.c     ****     printf("%s",context->debug_input);
GAS LISTING /var/tmp//ccCs6Agq.s 			page 37


 1439               		.stabn	68,0,609,.LM115-nmeap_gprmc
 1440               	.LM115:
 1441 071a C453      		subi r28,lo8(-(460))
 1442 071c DE4F      		sbci r29,hi8(-(460))
 1443 071e DF93      		push r29
 1444 0720 CF93      		push r28
 1445 0722 80E0      		ldi r24,lo8(.LC0)
 1446 0724 90E0      		ldi r25,hi8(.LC0)
 1447 0726 9F93      		push r25
 1448 0728 8F93      		push r24
 1449 072a 0E94 0000 		call printf
 610:nmeap01.c     ****     
 611:nmeap01.c     ****     /* print some validation data */
 612:nmeap01.c     ****     printf("%s==%s %02x==%02x\n",context->input_name,sentence->name,context->icks,context->ccks);
 1450               		.stabn	68,0,612,.LM116-nmeap_gprmc
 1451               	.LM116:
 1452 072e CF54      		subi r28,lo8(-(-79))
 1453 0730 D040      		sbci r29,hi8(-(-79))
 1454 0732 8881      		ld r24,Y
 1455 0734 9927      		clr r25
 1456 0736 87FD      		sbrc r24,7
 1457 0738 9095      		com r25
 1458 073a 9F93      		push r25
 1459 073c 8F93      		push r24
 1460 073e 8A91      		ld r24,-Y
 1461 0740 9927      		clr r25
 1462 0742 87FD      		sbrc r24,7
 1463 0744 9095      		com r25
 1464 0746 9F93      		push r25
 1465 0748 8F93      		push r24
 1466 074a BF92      		push r11
 1467 074c AF92      		push r10
 1468 074e 2697      		sbiw r28,6
 1469 0750 DF93      		push r29
 1470 0752 CF93      		push r28
 1471 0754 C657      		subi r28,lo8(-(-374))
 1472 0756 D140      		sbci r29,hi8(-(-374))
 1473 0758 80E0      		ldi r24,lo8(.LC1)
 1474 075a 90E0      		ldi r25,hi8(.LC1)
 1475 075c 9F93      		push r25
 1476 075e 8F93      		push r24
 1477 0760 0E94 0000 		call printf
 1478 0764 2EE7      		ldi r18,lo8(382)
 1479 0766 C22E      		mov r12,r18
 1480 0768 21E0      		ldi r18,hi8(382)
 1481 076a D22E      		mov r13,r18
 1482 076c CC0E      		add r12,r28
 1483 076e DD1E      		adc r13,r29
 1484 0770 EE24      		clr r14
 1485 0772 FF24      		clr r15
 613:nmeap01.c     ****     
 614:nmeap01.c     ****     /* print the tokens */
 615:nmeap01.c     ****     for(i=0;i<context->tokens;i++) {
 1486               		.stabn	68,0,615,.LM117-nmeap_gprmc
 1487               	.LM117:
 1488 0774 EDB7      		in r30,__SP_L__
 1489 0776 FEB7      		in r31,__SP_H__
GAS LISTING /var/tmp//ccCs6Agq.s 			page 38


 1490 0778 3E96      		adiw r30,14
 1491 077a 14C0      		rjmp .L128
 1492               	.L123:
 616:nmeap01.c     ****         printf("%d:%s\n",i,context->token[i]);
 1493               		.stabn	68,0,616,.LM118-nmeap_gprmc
 1494               	.LM118:
 1495 077c D601      		movw r26,r12
 1496 077e 8D91      		ld r24,X+
 1497 0780 9D91      		ld r25,X+
 1498 0782 6D01      		movw r12,r26
 1499 0784 9F93      		push r25
 1500 0786 8F93      		push r24
 1501 0788 FF92      		push r15
 1502 078a EF92      		push r14
 1503 078c 80E0      		ldi r24,lo8(.LC2)
 1504 078e 90E0      		ldi r25,hi8(.LC2)
 1505 0790 9F93      		push r25
 1506 0792 8F93      		push r24
 1507 0794 0E94 0000 		call printf
 1508               		.stabn	68,0,615,.LM119-nmeap_gprmc
 1509               	.LM119:
 1510 0798 0894      		sec
 1511 079a E11C      		adc r14,__zero_reg__
 1512 079c F11C      		adc r15,__zero_reg__
 1513 079e EDB7      		in r30,__SP_L__
 1514 07a0 FEB7      		in r31,__SP_H__
 1515 07a2 3696      		adiw r30,6
 1516               	.L128:
 1517 07a4 0FB6      		in __tmp_reg__,__SREG__
 1518 07a6 F894      		cli
 1519 07a8 FEBF      		out __SP_H__,r31
 1520 07aa 0FBE      		out __SREG__,__tmp_reg__
 1521 07ac EDBF      		out __SP_L__,r30
 1522 07ae C255      		subi r28,lo8(-(430))
 1523 07b0 DE4F      		sbci r29,hi8(-(430))
 1524 07b2 8881      		ld r24,Y
 1525 07b4 9981      		ldd r25,Y+1
 1526 07b6 CE5A      		subi r28,lo8(-(-430))
 1527 07b8 D140      		sbci r29,hi8(-(-430))
 1528 07ba E816      		cp r14,r24
 1529 07bc F906      		cpc r15,r25
 1530 07be F4F2      		brlt .L123
 617:nmeap01.c     ****     }
 618:nmeap01.c     **** #endif   
 619:nmeap01.c     **** 
 620:nmeap01.c     ****     /* if the sentence has a callout, call it */
 621:nmeap01.c     ****     if (sentence->callout != 0) {
 1531               		.stabn	68,0,621,.LM120-nmeap_gprmc
 1532               	.LM120:
 1533 07c0 F501      		movw r30,r10
 1534 07c2 2285      		ldd r18,Z+10
 1535 07c4 3385      		ldd r19,Z+11
 1536 07c6 2115      		cp r18,__zero_reg__
 1537 07c8 3105      		cpc r19,__zero_reg__
 1538 07ca 51F0      		breq .L125
 622:nmeap01.c     ****         (*sentence->callout)(context,rmc,context->user_data);
 1539               		.stabn	68,0,622,.LM121-nmeap_gprmc
GAS LISTING /var/tmp//ccCs6Agq.s 			page 39


 1540               	.LM121:
 1541 07cc C453      		subi r28,lo8(-(716))
 1542 07ce DD4F      		sbci r29,hi8(-(716))
 1543 07d0 4881      		ld r20,Y
 1544 07d2 5981      		ldd r21,Y+1
 1545 07d4 CC5C      		subi r28,lo8(-(-716))
 1546 07d6 D240      		sbci r29,hi8(-(-716))
 1547 07d8 B801      		movw r22,r16
 1548 07da CE01      		movw r24,r28
 1549 07dc F901      		movw r30,r18
 1550 07de 0995      		icall
 1551               	.L125:
 623:nmeap01.c     ****     }
 624:nmeap01.c     ****     
 625:nmeap01.c     ****     return NMEAP_GPRMC;
 626:nmeap01.c     **** }
 1552               		.stabn	68,0,626,.LM122-nmeap_gprmc
 1553               	.LM122:
 1554 07e0 82E0      		ldi r24,lo8(2)
 1555 07e2 90E0      		ldi r25,hi8(2)
 1556               	/* epilogue: frame size=0 */
 1557 07e4 DF91      		pop r29
 1558 07e6 CF91      		pop r28
 1559 07e8 1F91      		pop r17
 1560 07ea 0F91      		pop r16
 1561 07ec FF90      		pop r15
 1562 07ee EF90      		pop r14
 1563 07f0 DF90      		pop r13
 1564 07f2 CF90      		pop r12
 1565 07f4 BF90      		pop r11
 1566 07f6 AF90      		pop r10
 1567 07f8 0895      		ret
 1568               	/* epilogue end (size=11) */
 1569               	/* function nmeap_gprmc size 222 (201) */
 1570               		.size	nmeap_gprmc, .-nmeap_gprmc
 1571               		.stabs	"i:r(0,1)",64,0,585,14
 1572               		.stabs	"rmc:r(0,21)=*(8,10)",64,0,589,16
 1573               		.stabn	192,0,0,nmeap_gprmc-nmeap_gprmc
 1574               		.stabn	224,0,0,.Lscope7-nmeap_gprmc
 1575               	.Lscope7:
 1576               		.stabs	"",36,0,0,.Lscope7-nmeap_gprmc
 1577               		.stabd	78,0,0
 1578               		.stabs	"nmeap_gpgga:F(0,1)",36,0,538,nmeap_gpgga
 1579               		.stabs	"context:P(0,18)",64,0,537,28
 1580               		.stabs	"sentence:P(0,20)",64,0,537,10
 1581               	.global	nmeap_gpgga
 1582               		.type	nmeap_gpgga, @function
 1583               	nmeap_gpgga:
 1584               		.stabd	46,0,0
 1585               		.stabn	68,0,538,.LM123-nmeap_gpgga
 1586               	.LM123:
 1587               	/* prologue: frame size=0 */
 1588 07fa AF92      		push r10
 1589 07fc BF92      		push r11
 1590 07fe CF92      		push r12
 1591 0800 DF92      		push r13
 1592 0802 EF92      		push r14
GAS LISTING /var/tmp//ccCs6Agq.s 			page 40


 1593 0804 FF92      		push r15
 1594 0806 0F93      		push r16
 1595 0808 1F93      		push r17
 1596 080a CF93      		push r28
 1597 080c DF93      		push r29
 1598               	/* prologue end (size=10) */
 1599 080e EC01      		movw r28,r24
 1600 0810 5B01      		movw r10,r22
 1601               		.stabn	68,0,544,.LM124-nmeap_gpgga
 1602               	.LM124:
 1603 0812 FB01      		movw r30,r22
 1604 0814 0485      		ldd r16,Z+12
 1605 0816 1585      		ldd r17,Z+13
 1606               		.stabn	68,0,547,.LM125-nmeap_gpgga
 1607               	.LM125:
 1608 0818 0115      		cp r16,__zero_reg__
 1609 081a 1105      		cpc r17,__zero_reg__
 1610 081c 09F4      		brne .+2
 1611 081e 5DC0      		rjmp .L130
 1612               		.stabn	68,0,548,.LM126-nmeap_gpgga
 1613               	.LM126:
 1614 0820 CC57      		subi r28,lo8(-(388))
 1615 0822 DE4F      		sbci r29,hi8(-(388))
 1616 0824 6881      		ld r22,Y
 1617 0826 7981      		ldd r23,Y+1
 1618 0828 9A91      		ld r25,-Y
 1619 082a 8A91      		ld r24,-Y
 1620 082c 0E94 0000 		call nmeap_latitude
 1621 0830 F801      		movw r30,r16
 1622 0832 6083      		st Z,r22
 1623 0834 7183      		std Z+1,r23
 1624 0836 8283      		std Z+2,r24
 1625 0838 9383      		std Z+3,r25
 1626               		.stabn	68,0,549,.LM127-nmeap_gpgga
 1627               	.LM127:
 1628 083a 2696      		adiw r28,6
 1629 083c 6881      		ld r22,Y
 1630 083e 7981      		ldd r23,Y+1
 1631 0840 9A91      		ld r25,-Y
 1632 0842 8A91      		ld r24,-Y
 1633 0844 0E94 0000 		call nmeap_longitude
 1634 0848 F801      		movw r30,r16
 1635 084a 6483      		std Z+4,r22
 1636 084c 7583      		std Z+5,r23
 1637 084e 8683      		std Z+6,r24
 1638 0850 9783      		std Z+7,r25
 1639               		.stabn	68,0,550,.LM128-nmeap_gpgga
 1640               	.LM128:
 1641 0852 2C96      		adiw r28,12
 1642 0854 6881      		ld r22,Y
 1643 0856 7981      		ldd r23,Y+1
 1644 0858 9A91      		ld r25,-Y
 1645 085a 8A91      		ld r24,-Y
 1646 085c 0E94 0000 		call nmeap_altitude
 1647 0860 F801      		movw r30,r16
 1648 0862 6087      		std Z+8,r22
 1649 0864 7187      		std Z+9,r23
GAS LISTING /var/tmp//ccCs6Agq.s 			page 41


 1650 0866 8287      		std Z+10,r24
 1651 0868 9387      		std Z+11,r25
 1652               	.LBB2:
 1653               	.LBB3:
 1654               		.stabs	"/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h",132,0,0,.Ltext1
 1655               	.Ltext1:
   1:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /* Copyright (c) 2002, Marek Michalkiewicz
   2:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    Copyright (c) 2004, Joerg Wunsch
   3:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
   4:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    Portions of documentation Copyright (c) 1990, 1991, 1993, 1994
   5:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    The Regents of the University of California.
   6:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
   7:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    All rights reserved.
   8:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
   9:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    Redistribution and use in source and binary forms, with or without
  10:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    modification, are permitted provided that the following conditions are met:
  11:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  12:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    * Redistributions of source code must retain the above copyright
  13:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      notice, this list of conditions and the following disclaimer.
  14:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  15:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    * Redistributions in binary form must reproduce the above copyright
  16:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      notice, this list of conditions and the following disclaimer in
  17:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      the documentation and/or other materials provided with the
  18:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      distribution.
  19:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  20:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    * Neither the name of the copyright holders nor the names of
  21:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      contributors may be used to endorse or promote products derived
  22:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      from this software without specific prior written permission.
  23:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  24:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  25:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  26:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  27:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
  28:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  29:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  30:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  31:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  32:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  33:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  34:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   POSSIBILITY OF SUCH DAMAGE.
  35:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  36:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****   $Id: stdlib.h,v 1.24 2005/09/13 13:29:54 joerg_wunsch Exp $
  37:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
  38:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  39:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifndef _STDLIB_H_
  40:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define	_STDLIB_H_ 1
  41:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  42:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifndef __ASSEMBLER__
  43:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  44:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define __need_NULL
  45:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define __need_size_t
  46:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define __need_wchar_t
  47:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #include <stddef.h>
  48:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  49:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifndef __ptr_t
  50:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define __ptr_t void *
  51:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #endif
GAS LISTING /var/tmp//ccCs6Agq.s 			page 42


  52:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  53:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifdef __cplusplus
  54:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern "C" {
  55:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #endif
  56:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  57:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /** \defgroup avr_stdlib <stdlib.h>: General utilities
  58:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     \code #include <stdlib.h> \endcode
  59:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  60:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     This file declares some basic C macros and functions as
  61:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     defined by the ISO standard, plus some AVR-specific extensions.
  62:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
  63:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  64:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /*@{*/
  65:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /** Result type for function div(). */
  66:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** typedef struct {
  67:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 	int quot;                   /**< The Quotient. */
  68:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 	int rem;                    /**< The Remainder. */
  69:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** } div_t;
  70:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  71:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /** Result type for function ldiv(). */
  72:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** typedef struct {
  73:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 	long quot;                  /**< The Quotient. */
  74:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 	long rem;                   /**< The Remainder. */
  75:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** } ldiv_t;
  76:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  77:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /** Comparision function type for qsort(), just for convenience. */
  78:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** typedef int (*__compar_fn_t)(const void *, const void *);
  79:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  80:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifndef __DOXYGEN__
  81:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  82:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifndef __ATTR_CONST__
  83:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define __ATTR_CONST__ __attribute__((__const__))
  84:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #endif
  85:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  86:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifndef __ATTR_MALLOC__
  87:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define __ATTR_MALLOC__ __attribute__((__malloc__))
  88:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #endif
  89:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  90:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifndef __ATTR_NORETURN__
  91:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define __ATTR_NORETURN__ __attribute__((__noreturn__))
  92:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #endif
  93:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  94:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifndef __ATTR_PURE__
  95:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define __ATTR_PURE__ __attribute__((__pure__))
  96:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #endif
  97:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
  98:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #endif
  99:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 100:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern __inline__ void abort(void) __ATTR_NORETURN__;
 101:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 102:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /** The abort() function causes abnormal program termination to occur.
 103:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     In the limited AVR environment, execution is effectively halted
 104:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     by entering an infinite loop. */
 105:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern __inline__ void
 106:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** abort(void)
 107:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** {
 108:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 	for (;;);
GAS LISTING /var/tmp//ccCs6Agq.s 			page 43


 109:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** }
 110:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 111:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /** The abs() function computes the absolute value of the integer \c i.
 112:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    \note The abs() and labs() functions are builtins of gcc.
 113:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
 114:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern int abs(int __i) __ATTR_CONST__;
 115:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifndef __DOXYGEN__
 116:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define	abs(__i) __builtin_abs(__i)
 117:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #endif
 118:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 119:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /** The labs() function computes the absolute value of the long integer
 120:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     \c i.
 121:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****    \note The abs() and labs() functions are builtins of gcc.
 122:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
 123:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern long labs(long __i) __ATTR_CONST__;
 124:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #ifndef __DOXYGEN__
 125:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #define labs(__i) __builtin_labs(__i)
 126:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** #endif
 127:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 128:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /**
 129:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      The bsearch() function searches an array of \c nmemb objects, the
 130:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      initial member of which is pointed to by \c base, for a member
 131:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      that matches the object pointed to by \c key.  The size of each
 132:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      member of the array is specified by \c size.
 133:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 134:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      The contents of the array should be in ascending sorted order
 135:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      according to the comparison function referenced by \c compar.
 136:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      The \c compar routine is expected to have two arguments which
 137:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      point to the key object and to an array member, in that order,
 138:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      and should return an integer less than, equal to, or greater than
 139:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      zero if the key object is found, respectively, to be less than,
 140:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      to match, or be greater than the array member.
 141:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 142:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      The bsearch() function returns a pointer to a matching member of
 143:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      the array, or a null pointer if no match is found.  If two
 144:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      members compare as equal, which member is matched is unspecified.
 145:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
 146:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern void *bsearch(const void *__key, const void *__base, size_t __nmemb,
 147:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 		     size_t __size, int (*__compar)(const void *, const void *));
 148:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 149:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /* __divmodhi4 and __divmodsi4 from libgcc.a */
 150:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /**
 151:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      The div() function computes the value \c num/denom and returns
 152:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      the quotient and remainder in a structure named \c div_t that
 153:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      contains two int members named \c quot and \c rem.
 154:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
 155:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern div_t div(int __num, int __denom) __asm__("__divmodhi4") __ATTR_CONST__;
 156:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /**
 157:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      The ldiv() function computes the value \c num/denom and returns
 158:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      the quotient and remainder in a structure named \c ldiv_t that
 159:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      contains two long integer members named \c quot and \c rem.
 160:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
 161:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern ldiv_t ldiv(long __num, long __denom) __asm__("__divmodsi4") __ATTR_CONST__;
 162:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 163:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /**
 164:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      The qsort() function is a modified partition-exchange sort, or
 165:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      quicksort.
GAS LISTING /var/tmp//ccCs6Agq.s 			page 44


 166:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 167:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      The qsort() function sorts an array of \c nmemb objects, the
 168:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      initial member of which is pointed to by \c base.  The size of
 169:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      each object is specified by \c size.  The contents of the array
 170:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      base are sorted in ascending order according to a comparison
 171:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      function pointed to by \c compar, which requires two arguments
 172:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      pointing to the objects being compared.
 173:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 174:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      The comparison function must return an integer less than, equal
 175:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      to, or greater than zero if the first argument is considered to
 176:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****      be respectively less than, equal to, or greater than the second.
 177:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
 178:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern void qsort(void *__base, size_t __nmemb, size_t __size,
 179:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 		  __compar_fn_t __compar);
 180:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 181:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /**
 182:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     The strtol() function converts the string in \c nptr to a long
 183:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     value.  The conversion is done according to the given base, which
 184:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     must be between 2 and 36 inclusive, or be the special value 0.
 185:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 186:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     The string may begin with an arbitrary amount of white space (as
 187:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     determined by isspace()) followed by a single optional \c '+' or \c '-'
 188:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     sign.  If \c base is zero or 16, the string may then include a
 189:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     \c "0x" prefix, and the number will be read in base 16; otherwise,
 190:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     a zero base is taken as 10 (decimal) unless the next character is
 191:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     \c '0', in which case it is taken as 8 (octal).
 192:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 193:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     The remainder of the string is converted to a long value in the
 194:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     obvious manner, stopping at the first character which is not a
 195:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     valid digit in the given base.  (In bases above 10, the letter \c 'A'
 196:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     in either upper or lower case represents 10, \c 'B' represents 11,
 197:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     and so forth, with \c 'Z' representing 35.)
 198:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 199:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     If \c endptr is not NULL, strtol() stores the address of the first
 200:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     invalid character in \c *endptr.  If there were no digits at all,
 201:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     however, strtol() stores the original value of \c nptr in \c
 202:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     *endptr.  (Thus, if \c *nptr is not \c '\\0' but \c **endptr is \c '\\0'
 203:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     on return, the entire string was valid.)
 204:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 205:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     The strtol() function returns the result of the conversion, unless
 206:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     the value would underflow or overflow.  If no conversion could be
 207:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     performed, 0 is returned.  If an overflow or underflow occurs, \c
 208:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     errno is set to \ref avr_errno "ERANGE" and the function return value
 209:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     is clamped to \c LONG_MIN or \c LONG_MAX, respectively.
 210:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
 211:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern long strtol(const char *__nptr, char **__endptr, int __base);
 212:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 213:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /**
 214:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     The strtoul() function converts the string in \c nptr to an
 215:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     unsigned long value.  The conversion is done according to the
 216:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     given base, which must be between 2 and 36 inclusive, or be the
 217:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     special value 0.
 218:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 219:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     The string may begin with an arbitrary amount of white space (as
 220:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     determined by isspace()) followed by a single optional \c '+' or \c '-'
 221:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     sign.  If \c base is zero or 16, the string may then include a
 222:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     \c "0x" prefix, and the number will be read in base 16; otherwise,
GAS LISTING /var/tmp//ccCs6Agq.s 			page 45


 223:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     a zero base is taken as 10 (decimal) unless the next character is
 224:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     \c '0', in which case it is taken as 8 (octal).
 225:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 226:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     The remainder of the string is converted to an unsigned long value
 227:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     in the obvious manner, stopping at the first character which is
 228:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     not a valid digit in the given base.  (In bases above 10, the
 229:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     letter \c 'A' in either upper or lower case represents 10, \c 'B'
 230:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     represents 11, and so forth, with \c 'Z' representing 35.)
 231:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 232:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     If \c endptr is not NULL, strtoul() stores the address of the first
 233:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     invalid character in \c *endptr.  If there were no digits at all,
 234:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     however, strtoul() stores the original value of \c nptr in \c
 235:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     *endptr.  (Thus, if \c *nptr is not \c '\\0' but \c **endptr is \c '\\0'
 236:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     on return, the entire string was valid.)
 237:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 238:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     The strtoul() function return either the result of the conversion
 239:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     or, if there was a leading minus sign, the negation of the result
 240:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     of the conversion, unless the original (non-negated) value would
 241:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     overflow; in the latter case, strtoul() returns ULONG_MAX, and \c
 242:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     errno is set to \ref avr_errno "ERANGE".  If no conversion could 
 243:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     be performed, 0 is returned.
 244:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
 245:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern unsigned long strtoul(const char *__nptr, char **__endptr, int __base);
 246:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 247:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** /**
 248:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     The atol() function converts the initial portion of the string
 249:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     pointed to by \c nptr to long integer representation.
 250:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 251:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****     It is equivalent to:
 252:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 
 253:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h ****            \code strtol(nptr, (char **)NULL, 10); \endcode
 254:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** */
 255:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern __inline__ long atol(const char *__nptr) __ATTR_PURE__;
 256:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** extern __inline__ long
 257:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** atol(const char *__nptr)
 258:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** {
 259:/opt/local/lib/gcc/avr/4.0.2/../../../../avr/include/stdlib.h **** 	return strtol(__nptr, (char **) 0, 10);
 1656               		.stabn	68,0,259,.LM129-nmeap_gpgga
 1657               	.LM129:
 1658 086a 6097      		sbiw r28,16
 1659 086c 4AE0      		ldi r20,lo8(10)
 1660 086e 50E0      		ldi r21,hi8(10)
 1661 0870 60E0      		ldi r22,lo8(0)
 1662 0872 70E0      		ldi r23,hi8(0)
 1663 0874 8881      		ld r24,Y
 1664 0876 9981      		ldd r25,Y+1
 1665 0878 0E94 0000 		call strtol
 1666               	.LBE3:
 1667               	.LBE2:
 1668               		.stabs	"nmeap01.c",132,0,0,.Ltext2
 1669               	.Ltext2:
 1670               		.stabn	68,0,551,.LM130-nmeap_gpgga
 1671               	.LM130:
 1672 087c F801      		movw r30,r16
 1673 087e 6487      		std Z+12,r22
 1674 0880 7587      		std Z+13,r23
 1675 0882 8687      		std Z+14,r24
GAS LISTING /var/tmp//ccCs6Agq.s 			page 46


 1676 0884 9787      		std Z+15,r25
 1677               		.stabn	68,0,552,.LM131-nmeap_gpgga
 1678               	.LM131:
 1679 0886 2C96      		adiw r28,12
 1680 0888 8881      		ld r24,Y
 1681 088a 9981      		ldd r25,Y+1
 1682 088c 0E94 0000 		call atoi
 1683 0890 F801      		movw r30,r16
 1684 0892 918B      		std Z+17,r25
 1685 0894 808B      		std Z+16,r24
 1686               		.stabn	68,0,553,.LM132-nmeap_gpgga
 1687               	.LM132:
 1688 0896 9A91      		ld r25,-Y
 1689 0898 8A91      		ld r24,-Y
 1690 089a 0E94 0000 		call atoi
 1691 089e F801      		movw r30,r16
 1692 08a0 938B      		std Z+19,r25
 1693 08a2 828B      		std Z+18,r24
 1694               		.stabn	68,0,554,.LM133-nmeap_gpgga
 1695               	.LM133:
 1696 08a4 2496      		adiw r28,4
 1697 08a6 8881      		ld r24,Y
 1698 08a8 9981      		ldd r25,Y+1
 1699 08aa 0E94 0000 		call atof
 1700 08ae F801      		movw r30,r16
 1701 08b0 648B      		std Z+20,r22
 1702 08b2 758B      		std Z+21,r23
 1703 08b4 868B      		std Z+22,r24
 1704 08b6 978B      		std Z+23,r25
 1705               		.stabn	68,0,555,.LM134-nmeap_gpgga
 1706               	.LM134:
 1707 08b8 2896      		adiw r28,8
 1708 08ba 6881      		ld r22,Y
 1709 08bc 7981      		ldd r23,Y+1
 1710 08be C659      		subi r28,lo8(-(-406))
 1711 08c0 D140      		sbci r29,hi8(-(-406))
 1712 08c2 FE01      		movw r30,r28
 1713 08c4 EC56      		subi r30,lo8(-(404))
 1714 08c6 FE4F      		sbci r31,hi8(-(404))
 1715 08c8 8081      		ld r24,Z
 1716 08ca 9181      		ldd r25,Z+1
 1717 08cc 0E94 0000 		call nmeap_altitude
 1718 08d0 F801      		movw r30,r16
 1719 08d2 608F      		std Z+24,r22
 1720 08d4 718F      		std Z+25,r23
 1721 08d6 828F      		std Z+26,r24
 1722 08d8 938F      		std Z+27,r25
 1723               	.L130:
 1724               		.stabn	68,0,560,.LM135-nmeap_gpgga
 1725               	.LM135:
 1726 08da C453      		subi r28,lo8(-(460))
 1727 08dc DE4F      		sbci r29,hi8(-(460))
 1728 08de DF93      		push r29
 1729 08e0 CF93      		push r28
 1730 08e2 80E0      		ldi r24,lo8(.LC0)
 1731 08e4 90E0      		ldi r25,hi8(.LC0)
 1732 08e6 9F93      		push r25
GAS LISTING /var/tmp//ccCs6Agq.s 			page 47


 1733 08e8 8F93      		push r24
 1734 08ea 0E94 0000 		call printf
 1735               		.stabn	68,0,563,.LM136-nmeap_gpgga
 1736               	.LM136:
 1737 08ee CF54      		subi r28,lo8(-(-79))
 1738 08f0 D040      		sbci r29,hi8(-(-79))
 1739 08f2 8881      		ld r24,Y
 1740 08f4 9927      		clr r25
 1741 08f6 87FD      		sbrc r24,7
 1742 08f8 9095      		com r25
 1743 08fa 9F93      		push r25
 1744 08fc 8F93      		push r24
 1745 08fe 8A91      		ld r24,-Y
 1746 0900 9927      		clr r25
 1747 0902 87FD      		sbrc r24,7
 1748 0904 9095      		com r25
 1749 0906 9F93      		push r25
 1750 0908 8F93      		push r24
 1751 090a BF92      		push r11
 1752 090c AF92      		push r10
 1753 090e 2697      		sbiw r28,6
 1754 0910 DF93      		push r29
 1755 0912 CF93      		push r28
 1756 0914 C657      		subi r28,lo8(-(-374))
 1757 0916 D140      		sbci r29,hi8(-(-374))
 1758 0918 80E0      		ldi r24,lo8(.LC1)
 1759 091a 90E0      		ldi r25,hi8(.LC1)
 1760 091c 9F93      		push r25
 1761 091e 8F93      		push r24
 1762 0920 0E94 0000 		call printf
 1763 0924 3EE7      		ldi r19,lo8(382)
 1764 0926 C32E      		mov r12,r19
 1765 0928 31E0      		ldi r19,hi8(382)
 1766 092a D32E      		mov r13,r19
 1767 092c CC0E      		add r12,r28
 1768 092e DD1E      		adc r13,r29
 1769 0930 EE24      		clr r14
 1770 0932 FF24      		clr r15
 1771               		.stabn	68,0,566,.LM137-nmeap_gpgga
 1772               	.LM137:
 1773 0934 8DB7      		in r24,__SP_L__
 1774 0936 9EB7      		in r25,__SP_H__
 1775 0938 0E96      		adiw r24,14
 1776 093a 14C0      		rjmp .L138
 1777               	.L133:
 1778               		.stabn	68,0,567,.LM138-nmeap_gpgga
 1779               	.LM138:
 1780 093c F601      		movw r30,r12
 1781 093e 8191      		ld r24,Z+
 1782 0940 9191      		ld r25,Z+
 1783 0942 6F01      		movw r12,r30
 1784 0944 9F93      		push r25
 1785 0946 8F93      		push r24
 1786 0948 FF92      		push r15
 1787 094a EF92      		push r14
 1788 094c 80E0      		ldi r24,lo8(.LC2)
 1789 094e 90E0      		ldi r25,hi8(.LC2)
GAS LISTING /var/tmp//ccCs6Agq.s 			page 48


 1790 0950 9F93      		push r25
 1791 0952 8F93      		push r24
 1792 0954 0E94 0000 		call printf
 1793               		.stabn	68,0,566,.LM139-nmeap_gpgga
 1794               	.LM139:
 1795 0958 0894      		sec
 1796 095a E11C      		adc r14,__zero_reg__
 1797 095c F11C      		adc r15,__zero_reg__
 1798 095e 8DB7      		in r24,__SP_L__
 1799 0960 9EB7      		in r25,__SP_H__
 1800 0962 0696      		adiw r24,6
 1801               	.L138:
 1802 0964 0FB6      		in __tmp_reg__,__SREG__
 1803 0966 F894      		cli
 1804 0968 9EBF      		out __SP_H__,r25
 1805 096a 0FBE      		out __SREG__,__tmp_reg__
 1806 096c 8DBF      		out __SP_L__,r24
 1807 096e C255      		subi r28,lo8(-(430))
 1808 0970 DE4F      		sbci r29,hi8(-(430))
 1809 0972 8881      		ld r24,Y
 1810 0974 9981      		ldd r25,Y+1
 1811 0976 CE5A      		subi r28,lo8(-(-430))
 1812 0978 D140      		sbci r29,hi8(-(-430))
 1813 097a E816      		cp r14,r24
 1814 097c F906      		cpc r15,r25
 1815 097e F4F2      		brlt .L133
 1816               		.stabn	68,0,572,.LM140-nmeap_gpgga
 1817               	.LM140:
 1818 0980 F501      		movw r30,r10
 1819 0982 2285      		ldd r18,Z+10
 1820 0984 3385      		ldd r19,Z+11
 1821 0986 2115      		cp r18,__zero_reg__
 1822 0988 3105      		cpc r19,__zero_reg__
 1823 098a 51F0      		breq .L135
 1824               		.stabn	68,0,573,.LM141-nmeap_gpgga
 1825               	.LM141:
 1826 098c C453      		subi r28,lo8(-(716))
 1827 098e DD4F      		sbci r29,hi8(-(716))
 1828 0990 4881      		ld r20,Y
 1829 0992 5981      		ldd r21,Y+1
 1830 0994 CC5C      		subi r28,lo8(-(-716))
 1831 0996 D240      		sbci r29,hi8(-(-716))
 1832 0998 B801      		movw r22,r16
 1833 099a CE01      		movw r24,r28
 1834 099c F901      		movw r30,r18
 1835 099e 0995      		icall
 1836               	.L135:
 1837               		.stabn	68,0,577,.LM142-nmeap_gpgga
 1838               	.LM142:
 1839 09a0 81E0      		ldi r24,lo8(1)
 1840 09a2 90E0      		ldi r25,hi8(1)
 1841               	/* epilogue: frame size=0 */
 1842 09a4 DF91      		pop r29
 1843 09a6 CF91      		pop r28
 1844 09a8 1F91      		pop r17
 1845 09aa 0F91      		pop r16
 1846 09ac FF90      		pop r15
GAS LISTING /var/tmp//ccCs6Agq.s 			page 49


 1847 09ae EF90      		pop r14
 1848 09b0 DF90      		pop r13
 1849 09b2 CF90      		pop r12
 1850 09b4 BF90      		pop r11
 1851 09b6 AF90      		pop r10
 1852 09b8 0895      		ret
 1853               	/* epilogue end (size=11) */
 1854               	/* function nmeap_gpgga size 224 (203) */
 1855               		.size	nmeap_gpgga, .-nmeap_gpgga
 1856               		.stabs	"i:r(0,1)",64,0,540,14
 1857               		.stabs	"gga:r(0,22)=*(8,8)",64,0,544,16
 1858               		.stabn	192,0,0,nmeap_gpgga-nmeap_gpgga
 1859               		.stabn	224,0,0,.Lscope8-nmeap_gpgga
 1860               	.Lscope8:
 1861               		.stabs	"",36,0,0,.Lscope8-nmeap_gpgga
 1862               		.stabd	78,0,0
 1863               		.stabs	"nmeap_init:F(0,1)",36,0,178,nmeap_init
 1864               		.stabs	"context:P(0,18)",64,0,177,30
 1865               		.stabs	"user_data:P(1,7)",64,0,177,22
 1866               	.global	nmeap_init
 1867               		.type	nmeap_init, @function
 1868               	nmeap_init:
 1869               		.stabd	46,0,0
 1870               		.stabn	68,0,178,.LM143-nmeap_init
 1871               	.LM143:
 1872               	/* prologue: frame size=0 */
 1873               	/* prologue end (size=0) */
 1874 09ba FC01      		movw r30,r24
 1875               		.stabn	68,0,179,.LM144-nmeap_init
 1876               	.LM144:
 1877 09bc 892B      		or r24,r25
 1878 09be 09F4      		brne .L140
 1879               	.L143:
 1880 09c0 FFCF      		rjmp .L143
 1881               	.L140:
 1882               		.stabn	68,0,181,.LM145-nmeap_init
 1883               	.LM145:
 1884 09c2 8EEC      		ldi r24,lo8(718)
 1885 09c4 92E0      		ldi r25,hi8(718)
 1886 09c6 DF01      		movw r26,r30
 1887 09c8 1D92      		st X+,__zero_reg__
 1888 09ca 0197      		sbiw r24,1
 1889 09cc E9F7      		brne .-6
 1890               		.stabn	68,0,183,.LM146-nmeap_init
 1891               	.LM146:
 1892 09ce E453      		subi r30,lo8(-(716))
 1893 09d0 FD4F      		sbci r31,hi8(-(716))
 1894 09d2 7183      		std Z+1,r23
 1895 09d4 6083      		st Z,r22
 1896               		.stabn	68,0,186,.LM147-nmeap_init
 1897               	.LM147:
 1898 09d6 80E0      		ldi r24,lo8(0)
 1899 09d8 90E0      		ldi r25,hi8(0)
 1900               	/* epilogue: frame size=0 */
 1901 09da 0895      		ret
 1902               	/* epilogue end (size=1) */
 1903               	/* function nmeap_init size 17 (16) */
GAS LISTING /var/tmp//ccCs6Agq.s 			page 50


 1904               		.size	nmeap_init, .-nmeap_init
 1905               	.Lscope9:
 1906               		.stabs	"",36,0,0,.Lscope9-nmeap_init
 1907               		.stabd	78,0,0
 1908               		.stabs	"nmeap_addParser:F(0,1)",36,0,198,nmeap_addParser
 1909               		.stabs	"context:P(0,18)",64,0,192,30
 1910               		.stabs	"sentence_name:P(0,16)",64,0,193,22
 1911               		.stabs	"sentence_parser:P(8,4)",64,0,194,28
 1912               		.stabs	"sentence_callout:P(8,1)",64,0,195,14
 1913               		.stabs	"sentence_data:P(1,7)",64,0,197,12
 1914               	.global	nmeap_addParser
 1915               		.type	nmeap_addParser, @function
 1916               	nmeap_addParser:
 1917               		.stabd	46,0,0
 1918               		.stabn	68,0,198,.LM148-nmeap_addParser
 1919               	.LM148:
 1920               	/* prologue: frame size=0 */
 1921 09dc CF92      		push r12
 1922 09de DF92      		push r13
 1923 09e0 EF92      		push r14
 1924 09e2 FF92      		push r15
 1925 09e4 0F93      		push r16
 1926 09e6 1F93      		push r17
 1927 09e8 CF93      		push r28
 1928 09ea DF93      		push r29
 1929               	/* prologue end (size=8) */
 1930 09ec FC01      		movw r30,r24
 1931 09ee EA01      		movw r28,r20
 1932 09f0 7901      		movw r14,r18
 1933 09f2 6801      		movw r12,r16
 1934               		.stabn	68,0,202,.LM149-nmeap_addParser
 1935               	.LM149:
 1936 09f4 0097      		sbiw r24,0
 1937 09f6 09F4      		brne .L145
 1938               	.L151:
 1939 09f8 FFCF      		rjmp .L151
 1940               	.L145:
 1941               		.stabn	68,0,205,.LM150-nmeap_addParser
 1942               	.LM150:
 1943 09fa DC01      		movw r26,r24
 1944 09fc A059      		subi r26,lo8(-(112))
 1945 09fe BF4F      		sbci r27,hi8(-(112))
 1946 0a00 2D91      		ld r18,X+
 1947 0a02 3C91      		ld r19,X
 1948 0a04 1197      		sbiw r26,1
 1949 0a06 2830      		cpi r18,8
 1950 0a08 3105      		cpc r19,__zero_reg__
 1951 0a0a 1CF0      		brlt .L147
 1952 0a0c 8FEF      		ldi r24,lo8(-1)
 1953 0a0e 9FEF      		ldi r25,hi8(-1)
 1954 0a10 22C0      		rjmp .L149
 1955               	.L147:
 1956               		.stabn	68,0,210,.LM151-nmeap_addParser
 1957               	.LM151:
 1958 0a12 8EE0      		ldi r24,lo8(14)
 1959 0a14 90E0      		ldi r25,hi8(14)
 1960 0a16 289F      		mul r18,r24
GAS LISTING /var/tmp//ccCs6Agq.s 			page 51


 1961 0a18 8001      		movw r16,r0
 1962 0a1a 299F      		mul r18,r25
 1963 0a1c 100D      		add r17,r0
 1964 0a1e 389F      		mul r19,r24
 1965 0a20 100D      		add r17,r0
 1966 0a22 1124      		clr r1
 1967 0a24 0E0F      		add r16,r30
 1968 0a26 1F1F      		adc r17,r31
 1969               		.stabn	68,0,213,.LM152-nmeap_addParser
 1970               	.LM152:
 1971 0a28 2F5F      		subi r18,lo8(-(1))
 1972 0a2a 3F4F      		sbci r19,hi8(-(1))
 1973 0a2c 2D93      		st X+,r18
 1974 0a2e 3C93      		st X,r19
 1975               		.stabn	68,0,216,.LM153-nmeap_addParser
 1976               	.LM153:
 1977 0a30 8EE0      		ldi r24,lo8(14)
 1978 0a32 F801      		movw r30,r16
 1979 0a34 1192      		st Z+,__zero_reg__
 1980 0a36 8A95      	        dec r24
 1981 0a38 E9F7      		brne .-6
 1982               		.stabn	68,0,219,.LM154-nmeap_addParser
 1983               	.LM154:
 1984 0a3a 45E0      		ldi r20,lo8(5)
 1985 0a3c 50E0      		ldi r21,hi8(5)
 1986 0a3e C801      		movw r24,r16
 1987 0a40 0E94 0000 		call strncpy
 1988               		.stabn	68,0,222,.LM155-nmeap_addParser
 1989               	.LM155:
 1990 0a44 F801      		movw r30,r16
 1991 0a46 D187      		std Z+9,r29
 1992 0a48 C087      		std Z+8,r28
 1993               		.stabn	68,0,225,.LM156-nmeap_addParser
 1994               	.LM156:
 1995 0a4a F386      		std Z+11,r15
 1996 0a4c E286      		std Z+10,r14
 1997               		.stabn	68,0,228,.LM157-nmeap_addParser
 1998               	.LM157:
 1999 0a4e D586      		std Z+13,r13
 2000 0a50 C486      		std Z+12,r12
 2001 0a52 80E0      		ldi r24,lo8(0)
 2002 0a54 90E0      		ldi r25,hi8(0)
 2003               	.L149:
 2004               	/* epilogue: frame size=0 */
 2005 0a56 DF91      		pop r29
 2006 0a58 CF91      		pop r28
 2007 0a5a 1F91      		pop r17
 2008 0a5c 0F91      		pop r16
 2009 0a5e FF90      		pop r15
 2010 0a60 EF90      		pop r14
 2011 0a62 DF90      		pop r13
 2012 0a64 CF90      		pop r12
 2013 0a66 0895      		ret
 2014               	/* epilogue end (size=9) */
 2015               	/* function nmeap_addParser size 70 (53) */
 2016               		.size	nmeap_addParser, .-nmeap_addParser
 2017               		.stabs	"s:r(0,20)",64,0,199,16
GAS LISTING /var/tmp//ccCs6Agq.s 			page 52


 2018               		.stabn	192,0,0,nmeap_addParser-nmeap_addParser
 2019               		.stabn	224,0,0,.Lscope10-nmeap_addParser
 2020               	.Lscope10:
 2021               		.stabs	"",36,0,0,.Lscope10-nmeap_addParser
 2022               		.stabd	78,0,0
 2023               		.stabs	"timebuffer:G(0,23)=ar(10,3);0;9;(0,2)",32,0,53,0
 2024               		.stabs	"datebuffer:G(0,23)",32,0,54,0
 2025               		.comm datebuffer,10,1
 2026               		.comm timebuffer,10,1
 2027               		.stabs	"",100,0,0,.Letext0
 2028               	.Letext0:
 2029               	/* File "nmeap01.c": code 1333 = 0x0535 (1160), prologues  81, epilogues  92 */
GAS LISTING /var/tmp//ccCs6Agq.s 			page 53


DEFINED SYMBOLS
                            *ABS*:00000000 nmeap01.c
/var/tmp//ccCs6Agq.s:3      *ABS*:0000003f __SREG__
/var/tmp//ccCs6Agq.s:4      *ABS*:0000003e __SP_H__
/var/tmp//ccCs6Agq.s:5      *ABS*:0000003d __SP_L__
/var/tmp//ccCs6Agq.s:6      *ABS*:00000000 __tmp_reg__
/var/tmp//ccCs6Agq.s:7      *ABS*:00000001 __zero_reg__
/var/tmp//ccCs6Agq.s:122    .text:00000000 nmeap_altitude
/var/tmp//ccCs6Agq.s:183    .text:0000003a nmeap_tokenize
/var/tmp//ccCs6Agq.s:280    .text:00000096 nmeap_process
/var/tmp//ccCs6Agq.s:403    .text:0000013a nmeap_parse
/var/tmp//ccCs6Agq.s:916    .text:00000424 nmeap_parseBuffer
/var/tmp//ccCs6Agq.s:1009   .text:00000492 nmeap_latitude
/var/tmp//ccCs6Agq.s:1153   .text:00000568 nmeap_longitude
/var/tmp//ccCs6Agq.s:1305   .text:0000063e nmeap_gprmc
                            *COM*:0000000a timebuffer
                            *COM*:0000000a datebuffer
/var/tmp//ccCs6Agq.s:1583   .text:000007fa nmeap_gpgga
/var/tmp//ccCs6Agq.s:1868   .text:000009ba nmeap_init
/var/tmp//ccCs6Agq.s:1916   .text:000009dc nmeap_addParser

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
atof
__mulsf3
strncpy
strncmp
isalnum
isxdigit
__divsf3
__fixsfsi
__floatsisf
__addsf3
strcpy
printf
strtol
atoi
